import{r as m,a as k}from"./react-BA-y5DQ0.js";import{f as I,e as Q,l as $}from"./dom-helpers-CbdCnQe0.js";import"./invariant-BIx8IuoX.js";import"./react-lifecycles-compat-BzMyrFSO.js";import{R as U}from"./react-dom-po7OO9u3.js";import{l as W,_ as y}from"./@babel-BVDyanKE.js";import{P as u}from"./prop-types-D2f4Tpnk.js";import{a as V,b as D,c as T,d as X}from"./@restart-ByvjgjHj.js";import{p as Z,h as ee,a as te,c as re,e as ne,o as oe,f as ie,b as ae,d as se,g as ue}from"./@popperjs-D3RTujcg.js";import{w as fe}from"./warning-D31qWzNz.js";var le=Z({defaultModifiers:[ee,te,re,ne,oe,ie,ae,se]}),L=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},ce={name:"applyStyles",enabled:!1},de={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,o=n.reference,i=n.popper;if("removeAttribute"in o){var f=(o.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==i.id});f.length?o.setAttribute("aria-describedby",f.join(",")):o.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,o=n.elements,i=o.popper,f=o.reference,l=(r=i.getAttribute("role"))==null?void 0:r.toLowerCase();if(i.id&&l==="tooltip"&&"setAttribute"in f){var v=f.getAttribute("aria-describedby");if(v&&v.split(",").indexOf(i.id)!==-1)return;f.setAttribute("aria-describedby",v?v+","+i.id:i.id)}}},pe=[];function ve(e,t,r){var n=r===void 0?{}:r,o=n.enabled,i=o===void 0?!0:o,f=n.placement,l=f===void 0?"bottom":f,v=n.strategy,b=v===void 0?"absolute":v,h=n.modifiers,E=h===void 0?pe:h,s=W(n,["enabled","placement","strategy","modifiers"]),a=m.useRef(),d=m.useCallback(function(){var g;(g=a.current)==null||g.update()},[]),c=m.useCallback(function(){var g;(g=a.current)==null||g.forceUpdate()},[]),R=V(m.useState({placement:l,update:d,forceUpdate:c,attributes:{},styles:{popper:L(b),arrow:{}}})),C=R[0],p=R[1],M=m.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(P){var w=P.state,S={},x={};Object.keys(w.elements).forEach(function(O){S[O]=w.styles[O],x[O]=w.attributes[O]}),p({state:w,styles:S,attributes:x,update:d,forceUpdate:c,placement:w.placement})}}},[d,c,p]);return m.useEffect(function(){!a.current||!i||a.current.setOptions({placement:l,strategy:b,modifiers:[].concat(E,[M,ce])})},[b,l,M,i]),m.useEffect(function(){if(!(!i||e==null||t==null))return a.current=le(e,t,y({},s,{placement:l,strategy:b,modifiers:[].concat(E,[de,M])})),function(){a.current!=null&&(a.current.destroy(),a.current=void 0,p(function(g){return y({},g,{attributes:{},styles:{popper:L(b)}})}))}},[i,e,t]),C}function be(e){return e&&"setState"in e?U.findDOMNode(e):e??null}const me=function(e){return I(be(e))};var ye=27,K=function(){};function ge(e){return e.button===0}function Ee(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var H=function(t){return t&&("current"in t?t.current:t)};function he(e,t,r){var n=r===void 0?{}:r,o=n.disabled,i=n.clickTrigger,f=i===void 0?"click":i,l=m.useRef(!1),v=t||K,b=m.useCallback(function(s){var a,d=H(e);fe(!!d,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!d||Ee(s)||!ge(s)||!!Q(d,(a=s.composedPath==null?void 0:s.composedPath()[0])!=null?a:s.target)},[e]),h=D(function(s){l.current||v(s)}),E=D(function(s){s.keyCode===ye&&v(s)});m.useEffect(function(){if(!(o||e==null)){var s=window.event,a=me(H(e)),d=$(a,f,b,!0),c=$(a,f,function(p){if(p===s){s=void 0;return}h(p)}),R=$(a,"keyup",function(p){if(p===s){s=void 0;return}E(p)}),C=[];return"ontouchstart"in a.documentElement&&(C=[].slice.call(a.body.children).map(function(p){return $(p,"mousemove",K)})),function(){d(),c(),R(),C.forEach(function(p){return p()})}}},[e,o,f,b,h,E])}function we(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function Ce(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function Re(e){var t,r,n,o,i=e.enabled,f=e.enableEvents,l=e.placement,v=e.flip,b=e.offset,h=e.fixed,E=e.containerPadding,s=e.arrowElement,a=e.popperConfig,d=a===void 0?{}:a,c=we(d.modifiers);return y({},d,{placement:l,enabled:i,strategy:h?"fixed":d.strategy,modifiers:Ce(y({},c,{eventListeners:{enabled:f},preventOverflow:y({},c.preventOverflow,{options:E?y({padding:E},(t=c.preventOverflow)==null?void 0:t.options):(r=c.preventOverflow)==null?void 0:r.options}),offset:{options:y({offset:b},(n=c.offset)==null?void 0:n.options)},arrow:y({},c.arrow,{enabled:!!s,options:y({},(o=c.arrow)==null?void 0:o.options,{element:s})}),flip:y({enabled:!!v},c.flip)}))})}var _=function(t){var r;return typeof document>"u"?null:t==null?I().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function j(e,t){var r=m.useState(function(){return _(e)}),n=r[0],o=r[1];if(!n){var i=_(e);i&&o(i)}return m.useEffect(function(){},[t,n]),m.useEffect(function(){var f=_(e);f!==n&&o(f)},[e,n]),n}var q=k.forwardRef(function(e,t){var r=e.flip,n=e.offset,o=e.placement,i=e.containerPadding,f=i===void 0?5:i,l=e.popperConfig,v=l===void 0?{}:l,b=e.transition,h=T(),E=h[0],s=h[1],a=T(),d=a[0],c=a[1],R=X(s,t),C=j(e.container),p=j(e.target),M=m.useState(!e.show),g=M[0],P=M[1],w=ve(p,E,Re({placement:o,enableEvents:!!e.show,containerPadding:f||5,flip:r,offset:n,arrowElement:d,popperConfig:v})),S=w.styles,x=w.attributes,O=W(w,["styles","attributes"]);e.show?g&&P(!1):!e.transition&&!g&&P(!0);var F=function(){P(!0),e.onExited&&e.onExited.apply(e,arguments)},N=e.show||b&&!g;if(he(E,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!N)return null;var A=e.children(y({},O,{show:!!e.show,props:y({},x.popper,{style:S.popper,ref:R}),arrowProps:y({},x.arrow,{style:S.arrow,ref:c})}));if(b){var B=e.onExit,G=e.onExiting,Y=e.onEnter,z=e.onEntering,J=e.onEntered;A=k.createElement(b,{in:e.show,appear:!0,onExit:B,onExiting:G,onExited:F,onEnter:Y,onEntering:z,onEntered:J},A)}return C?U.createPortal(A,C):null});q.displayName="Overlay";q.propTypes={show:u.bool,placement:u.oneOf(ue),target:u.any,container:u.any,flip:u.bool,children:u.func.isRequired,containerPadding:u.number,popperConfig:u.object,rootClose:u.bool,rootCloseEvent:u.oneOf(["click","mousedown"]),rootCloseDisabled:u.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(t.rootClose){var i;return(i=u.func).isRequired.apply(i,[t].concat(n))}return u.func.apply(u,[t].concat(n))},transition:u.elementType,onEnter:u.func,onEntering:u.func,onEntered:u.func,onExit:u.func,onExiting:u.func,onExited:u.func};export{q as O};
