import{r as m,R as Mt,j as J}from"./react-BA-y5DQ0.js";import{r as Yt}from"./react-dom-po7OO9u3.js";function at(){return typeof window<"u"}function G(t){return Ft(t)?(t.nodeName||"").toLowerCase():"#document"}function I(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function _(t){var e;return(e=(Ft(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ft(t){return at()?t instanceof Node||t instanceof I(t).Node:!1}function B(t){return at()?t instanceof Element||t instanceof I(t).Element:!1}function H(t){return at()?t instanceof HTMLElement||t instanceof I(t).HTMLElement:!1}function Et(t){return!at()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof I(t).ShadowRoot}function et(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=V(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function Xt(t){return["table","td","th"].includes(G(t))}function ut(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function xt(t){const e=yt(),o=B(t)?V(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>o[n]?o[n]!=="none":!1)||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function qt(t){let e=z(t);for(;H(e)&&!K(e);){if(xt(e))return e;if(ut(e))return null;e=z(e)}return null}function yt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function K(t){return["html","body","#document"].includes(G(t))}function V(t){return I(t).getComputedStyle(t)}function dt(t){return B(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function z(t){if(G(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Et(t)&&t.host||_(t);return Et(e)?e.host:e}function kt(t){const e=z(t);return K(e)?t.ownerDocument?t.ownerDocument.body:t.body:H(e)&&et(e)?e:kt(e)}function tt(t,e,o){var n;e===void 0&&(e=[]),o===void 0&&(o=!0);const i=kt(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),s=I(i);if(r){const c=pt(s);return e.concat(s,s.visualViewport||[],et(i)?i:[],c&&o?tt(c):[])}return e.concat(i,tt(i,[],o))}function pt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Q=Math.min,Y=Math.max,rt=Math.round,ot=Math.floor,j=t=>({x:t,y:t}),Ut={left:"right",right:"left",bottom:"top",top:"bottom"},Kt={start:"end",end:"start"};function Qt(t,e,o){return Y(t,Q(e,o))}function mt(t,e){return typeof t=="function"?t(e):t}function Z(t){return t.split("-")[0]}function nt(t){return t.split("-")[1]}function Zt(t){return t==="x"?"y":"x"}function vt(t){return t==="y"?"height":"width"}function q(t){return["top","bottom"].includes(Z(t))?"y":"x"}function Rt(t){return Zt(q(t))}function Gt(t,e,o){o===void 0&&(o=!1);const n=nt(t),i=Rt(t),r=vt(i);let s=i==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(s=st(s)),[s,st(s)]}function Jt(t){const e=st(t);return[wt(t),e,wt(e)]}function wt(t){return t.replace(/start|end/g,e=>Kt[e])}function te(t,e,o){const n=["left","right"],i=["right","left"],r=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return o?e?i:n:e?n:i;case"left":case"right":return e?r:s;default:return[]}}function ee(t,e,o,n){const i=nt(t);let r=te(Z(t),o==="start",n);return i&&(r=r.map(s=>s+"-"+i),e&&(r=r.concat(r.map(wt)))),r}function st(t){return t.replace(/left|right|bottom|top/g,e=>Ut[e])}function ne(t){return{top:0,right:0,bottom:0,left:0,...t}}function Bt(t){return typeof t!="number"?ne(t):{top:t,right:t,bottom:t,left:t}}function ct(t){const{x:e,y:o,width:n,height:i}=t;return{width:n,height:i,top:o,left:e,right:e+n,bottom:o+i,x:e,y:o}}var lt=typeof document<"u"?m.useLayoutEffect:m.useEffect;const oe={...Mt},ie=oe.useInsertionEffect,re=ie||(t=>t());function se(t){const e=m.useRef(()=>{});return re(()=>{e.current=t}),m.useCallback(function(){for(var o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}function Ot(t,e,o){let{reference:n,floating:i}=t;const r=q(e),s=Rt(e),c=vt(s),f=Z(e),a=r==="y",u=n.x+n.width/2-i.width/2,d=n.y+n.height/2-i.height/2,g=n[c]/2-i[c]/2;let l;switch(f){case"top":l={x:u,y:n.y-i.height};break;case"bottom":l={x:u,y:n.y+n.height};break;case"right":l={x:n.x+n.width,y:d};break;case"left":l={x:n.x-i.width,y:d};break;default:l={x:n.x,y:n.y}}switch(nt(e)){case"start":l[s]-=g*(o&&a?-1:1);break;case"end":l[s]+=g*(o&&a?-1:1);break}return l}const ce=async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:s}=o,c=r.filter(Boolean),f=await(s.isRTL==null?void 0:s.isRTL(e));let a=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=Ot(a,n,f),g=n,l={},h=0;for(let w=0;w<c.length;w++){const{name:y,fn:x}=c[w],{x:b,y:p,data:v,reset:R}=await x({x:u,y:d,initialPlacement:n,placement:g,strategy:i,middlewareData:l,rects:a,platform:s,elements:{reference:t,floating:e}});u=b??u,d=p??d,l={...l,[y]:{...l[y],...v}},R&&h<=50&&(h++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(a=R.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):R.rects),{x:u,y:d}=Ot(a,g,f)),w=-1)}return{x:u,y:d,placement:g,strategy:i,middlewareData:l}};async function le(t,e){var o;e===void 0&&(e={});const{x:n,y:i,platform:r,rects:s,elements:c,strategy:f}=t,{boundary:a="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:g=!1,padding:l=0}=mt(e,t),h=Bt(l),y=c[g?d==="floating"?"reference":"floating":d],x=ct(await r.getClippingRect({element:(o=await(r.isElement==null?void 0:r.isElement(y)))==null||o?y:y.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:a,rootBoundary:u,strategy:f})),b=d==="floating"?{x:n,y:i,width:s.floating.width,height:s.floating.height}:s.reference,p=await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),v=await(r.isElement==null?void 0:r.isElement(p))?await(r.getScale==null?void 0:r.getScale(p))||{x:1,y:1}:{x:1,y:1},R=ct(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:p,strategy:f}):b);return{top:(x.top-R.top+h.top)/v.y,bottom:(R.bottom-x.bottom+h.bottom)/v.y,left:(x.left-R.left+h.left)/v.x,right:(R.right-x.right+h.right)/v.x}}const fe=t=>({name:"arrow",options:t,async fn(e){const{x:o,y:n,placement:i,rects:r,platform:s,elements:c,middlewareData:f}=e,{element:a,padding:u=0}=mt(t,e)||{};if(a==null)return{};const d=Bt(u),g={x:o,y:n},l=Rt(i),h=vt(l),w=await s.getDimensions(a),y=l==="y",x=y?"top":"left",b=y?"bottom":"right",p=y?"clientHeight":"clientWidth",v=r.reference[h]+r.reference[l]-g[l]-r.floating[h],R=g[l]-r.reference[l],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a));let C=O?O[p]:0;(!C||!await(s.isElement==null?void 0:s.isElement(O)))&&(C=c.floating[p]||r.floating[h]);const A=v/2-R/2,$=C/2-w[h]/2-1,D=Q(d[x],$),N=Q(d[b],$),P=D,W=C-w[h]-N,L=C/2-w[h]/2+A,M=Qt(P,L,W),T=!f.arrow&&nt(i)!=null&&L!==M&&r.reference[h]/2-(L<P?D:N)-w[h]/2<0,F=T?L<P?L-P:L-W:0;return{[l]:g[l]+F,data:{[l]:M,centerOffset:L-M-F,...T&&{alignmentOffset:F}},reset:T}}}),ae=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o,n;const{placement:i,middlewareData:r,rects:s,initialPlacement:c,platform:f,elements:a}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:g,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:w=!0,...y}=mt(t,e);if((o=r.arrow)!=null&&o.alignmentOffset)return{};const x=Z(i),b=q(c),p=Z(c)===c,v=await(f.isRTL==null?void 0:f.isRTL(a.floating)),R=g||(p||!w?[st(c)]:Jt(c)),O=h!=="none";!g&&O&&R.push(...ee(c,w,h,v));const C=[c,...R],A=await le(e,y),$=[];let D=((n=r.flip)==null?void 0:n.overflows)||[];if(u&&$.push(A[x]),d){const M=Gt(i,s,v);$.push(A[M[0]],A[M[1]])}if(D=[...D,{placement:i,overflows:$}],!$.every(M=>M<=0)){var N,P;const M=(((N=r.flip)==null?void 0:N.index)||0)+1,T=C[M];if(T){var W;const E=d==="alignment"?b!==q(T):!1,S=((W=D[0])==null?void 0:W.overflows[0])>0;if(!E||S)return{data:{index:M,overflows:D},reset:{placement:T}}}let F=(P=D.filter(E=>E.overflows[0]<=0).sort((E,S)=>E.overflows[1]-S.overflows[1])[0])==null?void 0:P.placement;if(!F)switch(l){case"bestFit":{var L;const E=(L=D.filter(S=>{if(O){const k=q(S.placement);return k===b||k==="y"}return!0}).map(S=>[S.placement,S.overflows.filter(k=>k>0).reduce((k,zt)=>k+zt,0)]).sort((S,k)=>S[1]-k[1])[0])==null?void 0:L[0];E&&(F=E);break}case"initialPlacement":F=c;break}if(i!==F)return{reset:{placement:F}}}return{}}}};async function ue(t,e){const{placement:o,platform:n,elements:i}=t,r=await(n.isRTL==null?void 0:n.isRTL(i.floating)),s=Z(o),c=nt(o),f=q(o)==="y",a=["left","top"].includes(s)?-1:1,u=r&&f?-1:1,d=mt(e,t);let{mainAxis:g,crossAxis:l,alignmentAxis:h}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return c&&typeof h=="number"&&(l=c==="end"?h*-1:h),f?{x:l*u,y:g*a}:{x:g*a,y:l*u}}const de=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var o,n;const{x:i,y:r,placement:s,middlewareData:c}=e,f=await ue(e,t);return s===((o=c.offset)==null?void 0:o.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:i+f.x,y:r+f.y,data:{...f,placement:s}}}}};function Wt(t){const e=V(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=H(t),r=i?t.offsetWidth:o,s=i?t.offsetHeight:n,c=rt(o)!==r||rt(n)!==s;return c&&(o=r,n=s),{width:o,height:n,$:c}}function bt(t){return B(t)?t:t.contextElement}function U(t){const e=bt(t);if(!H(e))return j(1);const o=e.getBoundingClientRect(),{width:n,height:i,$:r}=Wt(e);let s=(r?rt(o.width):o.width)/n,c=(r?rt(o.height):o.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!c||!Number.isFinite(c))&&(c=1),{x:s,y:c}}const me=j(0);function It(t){const e=I(t);return!yt()||!e.visualViewport?me:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ge(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==I(t)?!1:e}function X(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const i=t.getBoundingClientRect(),r=bt(t);let s=j(1);e&&(n?B(n)&&(s=U(n)):s=U(t));const c=ge(r,o,n)?It(r):j(0);let f=(i.left+c.x)/s.x,a=(i.top+c.y)/s.y,u=i.width/s.x,d=i.height/s.y;if(r){const g=I(r),l=n&&B(n)?I(n):n;let h=g,w=pt(h);for(;w&&n&&l!==h;){const y=U(w),x=w.getBoundingClientRect(),b=V(w),p=x.left+(w.clientLeft+parseFloat(b.paddingLeft))*y.x,v=x.top+(w.clientTop+parseFloat(b.paddingTop))*y.y;f*=y.x,a*=y.y,u*=y.x,d*=y.y,f+=p,a+=v,h=I(w),w=pt(h)}}return ct({width:u,height:d,x:f,y:a})}function Ct(t,e){const o=dt(t).scrollLeft;return e?e.left+o:X(_(t)).left+o}function $t(t,e,o){o===void 0&&(o=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(o?0:Ct(t,n)),r=n.top+e.scrollTop;return{x:i,y:r}}function he(t){let{elements:e,rect:o,offsetParent:n,strategy:i}=t;const r=i==="fixed",s=_(n),c=e?ut(e.floating):!1;if(n===s||c&&r)return o;let f={scrollLeft:0,scrollTop:0},a=j(1);const u=j(0),d=H(n);if((d||!d&&!r)&&((G(n)!=="body"||et(s))&&(f=dt(n)),H(n))){const l=X(n);a=U(n),u.x=l.x+n.clientLeft,u.y=l.y+n.clientTop}const g=s&&!d&&!r?$t(s,f,!0):j(0);return{width:o.width*a.x,height:o.height*a.y,x:o.x*a.x-f.scrollLeft*a.x+u.x+g.x,y:o.y*a.y-f.scrollTop*a.y+u.y+g.y}}function pe(t){return Array.from(t.getClientRects())}function we(t){const e=_(t),o=dt(t),n=t.ownerDocument.body,i=Y(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),r=Y(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let s=-o.scrollLeft+Ct(t);const c=-o.scrollTop;return V(n).direction==="rtl"&&(s+=Y(e.clientWidth,n.clientWidth)-i),{width:i,height:r,x:s,y:c}}function xe(t,e){const o=I(t),n=_(t),i=o.visualViewport;let r=n.clientWidth,s=n.clientHeight,c=0,f=0;if(i){r=i.width,s=i.height;const a=yt();(!a||a&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:r,height:s,x:c,y:f}}function ye(t,e){const o=X(t,!0,e==="fixed"),n=o.top+t.clientTop,i=o.left+t.clientLeft,r=H(t)?U(t):j(1),s=t.clientWidth*r.x,c=t.clientHeight*r.y,f=i*r.x,a=n*r.y;return{width:s,height:c,x:f,y:a}}function At(t,e,o){let n;if(e==="viewport")n=xe(t,o);else if(e==="document")n=we(_(t));else if(B(e))n=ye(e,o);else{const i=It(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ct(n)}function Nt(t,e){const o=z(t);return o===e||!B(o)||K(o)?!1:V(o).position==="fixed"||Nt(o,e)}function ve(t,e){const o=e.get(t);if(o)return o;let n=tt(t,[],!1).filter(c=>B(c)&&G(c)!=="body"),i=null;const r=V(t).position==="fixed";let s=r?z(t):t;for(;B(s)&&!K(s);){const c=V(s),f=xt(s);!f&&c.position==="fixed"&&(i=null),(r?!f&&!i:!f&&c.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||et(s)&&!f&&Nt(t,s))?n=n.filter(u=>u!==s):i=c,s=z(s)}return e.set(t,n),n}function Re(t){let{element:e,boundary:o,rootBoundary:n,strategy:i}=t;const s=[...o==="clippingAncestors"?ut(e)?[]:ve(e,this._c):[].concat(o),n],c=s[0],f=s.reduce((a,u)=>{const d=At(e,u,i);return a.top=Y(d.top,a.top),a.right=Q(d.right,a.right),a.bottom=Q(d.bottom,a.bottom),a.left=Y(d.left,a.left),a},At(e,c,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function be(t){const{width:e,height:o}=Wt(t);return{width:e,height:o}}function Ce(t,e,o){const n=H(e),i=_(e),r=o==="fixed",s=X(t,!0,r,e);let c={scrollLeft:0,scrollTop:0};const f=j(0);function a(){f.x=Ct(i)}if(n||!n&&!r)if((G(e)!=="body"||et(i))&&(c=dt(e)),n){const l=X(e,!0,r,e);f.x=l.x+e.clientLeft,f.y=l.y+e.clientTop}else i&&a();r&&!n&&i&&a();const u=i&&!n&&!r?$t(i,c):j(0),d=s.left+c.scrollLeft-f.x-u.x,g=s.top+c.scrollTop-f.y-u.y;return{x:d,y:g,width:s.width,height:s.height}}function gt(t){return V(t).position==="static"}function Pt(t,e){if(!H(t)||V(t).position==="fixed")return null;if(e)return e(t);let o=t.offsetParent;return _(t)===o&&(o=o.ownerDocument.body),o}function Vt(t,e){const o=I(t);if(ut(t))return o;if(!H(t)){let i=z(t);for(;i&&!K(i);){if(B(i)&&!gt(i))return i;i=z(i)}return o}let n=Pt(t,e);for(;n&&Xt(n)&&gt(n);)n=Pt(n,e);return n&&K(n)&&gt(n)&&!xt(n)?o:n||qt(t)||o}const Ee=async function(t){const e=this.getOffsetParent||Vt,o=this.getDimensions,n=await o(t.floating);return{reference:Ce(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Oe(t){return V(t).direction==="rtl"}const Ae={convertOffsetParentRelativeRectToViewportRelativeRect:he,getDocumentElement:_,getClippingRect:Re,getOffsetParent:Vt,getElementRects:Ee,getClientRects:pe,getDimensions:be,getScale:U,isElement:B,isRTL:Oe};function jt(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Pe(t,e){let o=null,n;const i=_(t);function r(){var c;clearTimeout(n),(c=o)==null||c.disconnect(),o=null}function s(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),r();const a=t.getBoundingClientRect(),{left:u,top:d,width:g,height:l}=a;if(c||e(),!g||!l)return;const h=ot(d),w=ot(i.clientWidth-(u+g)),y=ot(i.clientHeight-(d+l)),x=ot(u),p={rootMargin:-h+"px "+-w+"px "+-y+"px "+-x+"px",threshold:Y(0,Q(1,f))||1};let v=!0;function R(O){const C=O[0].intersectionRatio;if(C!==f){if(!v)return s();C?s(!1,C):n=setTimeout(()=>{s(!1,1e-7)},1e3)}C===1&&!jt(a,t.getBoundingClientRect())&&s(),v=!1}try{o=new IntersectionObserver(R,{...p,root:i.ownerDocument})}catch{o=new IntersectionObserver(R,p)}o.observe(t)}return s(!0),r}function Ye(t,e,o,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,a=bt(t),u=i||r?[...a?tt(a):[],...tt(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",o,{passive:!0}),r&&x.addEventListener("resize",o)});const d=a&&c?Pe(a,o):null;let g=-1,l=null;s&&(l=new ResizeObserver(x=>{let[b]=x;b&&b.target===a&&l&&(l.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var p;(p=l)==null||p.observe(e)})),o()}),a&&!f&&l.observe(a),l.observe(e));let h,w=f?X(t):null;f&&y();function y(){const x=X(t);w&&!jt(w,x)&&o(),w=x,h=requestAnimationFrame(y)}return o(),()=>{var x;u.forEach(b=>{i&&b.removeEventListener("scroll",o),r&&b.removeEventListener("resize",o)}),d==null||d(),(x=l)==null||x.disconnect(),l=null,f&&cancelAnimationFrame(h)}}const Se=de,Le=ae,St=fe,Te=(t,e,o)=>{const n=new Map,i={platform:Ae,...o},r={...i.platform,_c:n};return ce(t,e,{...i,platform:r})};var it=typeof document<"u"?m.useLayoutEffect:m.useEffect;function ft(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let o,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(o=t.length,o!==e.length)return!1;for(n=o;n--!==0;)if(!ft(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),o=i.length,o!==Object.keys(e).length)return!1;for(n=o;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=o;n--!==0;){const r=i[n];if(!(r==="_owner"&&t.$$typeof)&&!ft(t[r],e[r]))return!1}return!0}return t!==t&&e!==e}function Ht(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Lt(t,e){const o=Ht(t);return Math.round(e*o)/o}function ht(t){const e=m.useRef(t);return it(()=>{e.current=t}),e}function De(t){t===void 0&&(t={});const{placement:e="bottom",strategy:o="absolute",middleware:n=[],platform:i,elements:{reference:r,floating:s}={},transform:c=!0,whileElementsMounted:f,open:a}=t,[u,d]=m.useState({x:0,y:0,strategy:o,placement:e,middlewareData:{},isPositioned:!1}),[g,l]=m.useState(n);ft(g,n)||l(n);const[h,w]=m.useState(null),[y,x]=m.useState(null),b=m.useCallback(E=>{E!==O.current&&(O.current=E,w(E))},[]),p=m.useCallback(E=>{E!==C.current&&(C.current=E,x(E))},[]),v=r||h,R=s||y,O=m.useRef(null),C=m.useRef(null),A=m.useRef(u),$=f!=null,D=ht(f),N=ht(i),P=ht(a),W=m.useCallback(()=>{if(!O.current||!C.current)return;const E={placement:e,strategy:o,middleware:g};N.current&&(E.platform=N.current),Te(O.current,C.current,E).then(S=>{const k={...S,isPositioned:P.current!==!1};L.current&&!ft(A.current,k)&&(A.current=k,Yt.flushSync(()=>{d(k)}))})},[g,e,o,N,P]);it(()=>{a===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,d(E=>({...E,isPositioned:!1})))},[a]);const L=m.useRef(!1);it(()=>(L.current=!0,()=>{L.current=!1}),[]),it(()=>{if(v&&(O.current=v),R&&(C.current=R),v&&R){if(D.current)return D.current(v,R,W);W()}},[v,R,W,D,$]);const M=m.useMemo(()=>({reference:O,floating:C,setReference:b,setFloating:p}),[b,p]),T=m.useMemo(()=>({reference:v,floating:R}),[v,R]),F=m.useMemo(()=>{const E={position:o,left:0,top:0};if(!T.floating)return E;const S=Lt(T.floating,u.x),k=Lt(T.floating,u.y);return c?{...E,transform:"translate("+S+"px, "+k+"px)",...Ht(T.floating)>=1.5&&{willChange:"transform"}}:{position:o,left:S,top:k}},[o,c,T.floating,u.x,u.y]);return m.useMemo(()=>({...u,update:W,refs:M,elements:T,floatingStyles:F}),[u,W,M,T,F])}const Me=t=>{function e(o){return{}.hasOwnProperty.call(o,"current")}return{name:"arrow",options:t,fn(o){const{element:n,padding:i}=typeof t=="function"?t(o):t;return n&&e(n)?n.current!=null?St({element:n.current,padding:i}).fn(o):{}:n?St({element:n,padding:i}).fn(o):{}}}},Xe=(t,e)=>({...Se(t),options:[t,e]}),qe=(t,e)=>({...Le(t),options:[t,e]}),Ue=(t,e)=>({...Me(t),options:[t,e]}),Fe={...Mt};let Tt=!1,ke=0;const Dt=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ke++;function Be(){const[t,e]=m.useState(()=>Tt?Dt():void 0);return lt(()=>{t==null&&e(Dt())},[]),m.useEffect(()=>{Tt=!0},[]),t}const We=Fe.useId,_t=We||Be,Ke=m.forwardRef(function(e,o){const{context:{placement:n,elements:{floating:i},middlewareData:{arrow:r,shift:s}},width:c=14,height:f=7,tipRadius:a=0,strokeWidth:u=0,staticOffset:d,stroke:g,d:l,style:{transform:h,...w}={},...y}=e,x=_t(),[b,p]=m.useState(!1);if(lt(()=>{if(!i)return;V(i).direction==="rtl"&&p(!0)},[i]),!i)return null;const[v,R]=n.split("-"),O=v==="top"||v==="bottom";let C=d;(O&&s!=null&&s.x||!O&&s!=null&&s.y)&&(C=null);const A=u*2,$=A/2,D=c/2*(a/-8+1),N=f/2*a/4,P=!!l,W=C&&R==="end"?"bottom":"top";let L=C&&R==="end"?"right":"left";C&&b&&(L=R==="end"?"left":"right");const M=(r==null?void 0:r.x)!=null?C||r.x:"",T=(r==null?void 0:r.y)!=null?C||r.y:"",F=l||"M0,0"+(" H"+c)+(" L"+(c-D)+","+(f-N))+(" Q"+c/2+","+f+" "+D+","+(f-N))+" Z",E={top:P?"rotate(180deg)":"",left:P?"rotate(90deg)":"rotate(-90deg)",bottom:P?"":"rotate(180deg)",right:P?"rotate(-90deg)":"rotate(90deg)"}[v];return J.jsxs("svg",{...y,"aria-hidden":!0,ref:o,width:P?c:c+A,height:c,viewBox:"0 0 "+c+" "+(f>c?f:c),style:{position:"absolute",pointerEvents:"none",[L]:M,[W]:T,[v]:O||P?"100%":"calc(100% - "+A/2+"px)",transform:[E,h].filter(S=>!!S).join(" "),...w},children:[A>0&&J.jsx("path",{clipPath:"url(#"+x+")",fill:"none",stroke:g,strokeWidth:A+(l?0:1),d:F}),J.jsx("path",{stroke:A&&!l?y.fill:"none",d:F}),J.jsx("clipPath",{id:x,children:J.jsx("rect",{x:-$,y:$*(P?-1:1),width:c+A,height:c})})]})});function Ie(){const t=new Map;return{emit(e,o){var n;(n=t.get(e))==null||n.forEach(i=>i(o))},on(e,o){t.has(e)||t.set(e,new Set),t.get(e).add(o)},off(e,o){var n;(n=t.get(e))==null||n.delete(o)}}}const $e=m.createContext(null),Ne=m.createContext(null),Ve=()=>{var t;return((t=m.useContext($e))==null?void 0:t.id)||null},je=()=>m.useContext(Ne);function He(t){const{open:e=!1,onOpenChange:o,elements:n}=t,i=_t(),r=m.useRef({}),[s]=m.useState(()=>Ie()),c=Ve()!=null,[f,a]=m.useState(n.reference),u=se((l,h,w)=>{r.current.openEvent=l?h:void 0,s.emit("openchange",{open:l,event:h,reason:w,nested:c}),o==null||o(l,h,w)}),d=m.useMemo(()=>({setPositionReference:a}),[]),g=m.useMemo(()=>({reference:f||n.reference||null,floating:n.floating||null,domReference:n.reference}),[f,n.reference,n.floating]);return m.useMemo(()=>({dataRef:r,open:e,onOpenChange:u,elements:g,events:s,floatingId:i,refs:d}),[e,u,g,s,i,d])}function Qe(t){t===void 0&&(t={});const{nodeId:e}=t,o=He({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||o,i=n.elements,[r,s]=m.useState(null),[c,f]=m.useState(null),u=(i==null?void 0:i.domReference)||r,d=m.useRef(null),g=je();lt(()=>{u&&(d.current=u)},[u]);const l=De({...t,elements:{...i,...c&&{reference:c}}}),h=m.useCallback(p=>{const v=B(p)?{getBoundingClientRect:()=>p.getBoundingClientRect(),getClientRects:()=>p.getClientRects(),contextElement:p}:p;f(v),l.refs.setReference(v)},[l.refs]),w=m.useCallback(p=>{(B(p)||p===null)&&(d.current=p,s(p)),(B(l.refs.reference.current)||l.refs.reference.current===null||p!==null&&!B(p))&&l.refs.setReference(p)},[l.refs]),y=m.useMemo(()=>({...l.refs,setReference:w,setPositionReference:h,domReference:d}),[l.refs,w,h]),x=m.useMemo(()=>({...l.elements,domReference:u}),[l.elements,u]),b=m.useMemo(()=>({...l,...n,refs:y,elements:x,nodeId:e}),[l,y,x,e,n]);return lt(()=>{n.dataRef.current.floatingContext=b;const p=g==null?void 0:g.nodesRef.current.find(v=>v.id===e);p&&(p.context=b)}),m.useMemo(()=>({...l,context:b,refs:y,elements:x}),[l,y,x,b])}export{Ke as F,Ye as a,Ue as b,qe as f,Xe as o,Qe as u};
