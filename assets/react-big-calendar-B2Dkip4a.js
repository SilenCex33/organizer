import{a as J,b as j,c as W,d as pt,e as me,f as X,g as Q,h as Ee,i as ie,j as Xe,k as ne}from"./@babel-BVDyanKE.js";import{a as d,r as G}from"./react-BA-y5DQ0.js";import{i as Re}from"./invariant-BIx8IuoX.js";import{u as Yt}from"./uncontrollable-CI0KGoC3.js";import{P as O}from"./prop-types-D2f4Tpnk.js";import{i as Bt,l as gt,a as Me,g as Ue,b as Ze,e as Te,n as yt,s as oe,c as He,d as Ce,m as jt,f as Xt,h as ke,j as Ve,k as Ge,o as Ke,p as ot}from"./date-arithmetic-DrY26MJF.js";import{t as Ut,m as Zt,i as Jt,r as Qt,c as er,d as tr,o as rr,f as nr,s as ar}from"./lodash-DyxhsjOn.js";import{q as or,p as wt,c as st,r as bt,o as Le,a as Dt,g as qe,b as sr,s as Je,d as ir,l as lr,e as Ye,h as Fe}from"./dom-helpers-CbdCnQe0.js";import{O as cr}from"./react-overlays-B0aUDvej.js";import{m as Et}from"./memoize-one-BdPwpGay.js";import"./dayjs-DRQbrcnn.js";function St(n){var r,t,e="";if(typeof n=="string"||typeof n=="number")e+=n;else if(typeof n=="object")if(Array.isArray(n))for(r=0;r<n.length;r++)n[r]&&(t=St(n[r]))&&(e&&(e+=" "),e+=t);else for(r in n)n[r]&&(e&&(e+=" "),e+=r);return e}function K(){for(var n,r,t=0,e="";t<arguments.length;)(n=arguments[t++])&&(r=St(n))&&(e&&(e+=" "),e+=r);return e}function ce(n){return n.children}var re={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},ee={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},it=Object.keys(ee).map(function(n){return ee[n]});O.oneOfType([O.string,O.func]);O.any;O.func;O.oneOfType([O.arrayOf(O.oneOf(it)),O.objectOf(function(n,r){var t=it.indexOf(r)!==-1&&typeof n[r]=="boolean";if(t)return null;for(var e=arguments.length,a=new Array(e>2?e-2:0),o=2;o<e;o++)a[o-2]=arguments[o];return O.elementType.apply(O,[n,r].concat(a))})]);O.oneOfType([O.oneOf(["overlap","no-overlap"]),O.func]);var lt={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function Rt(n,r){var t=oe(n,"month");return oe(t,"week",r.startOfWeek())}function kt(n,r){var t=He(n,"month");return He(t,"week",r.startOfWeek())}function ur(n,r){for(var t=Rt(n,r),e=kt(n,r),a=[];Me(t,e,"day");)a.push(t),t=Ce(t,1,"day");return a}function dr(n,r){var t=oe(n,r);return Te(t,n)?t:Ce(t,1,r)}function vr(n,r){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",e=n,a=[];Me(e,r,t);)a.push(e),e=Ce(e,1,t);return a}function fr(n,r){return r==null&&n==null?null:(r==null&&(r=new Date),n==null&&(n=new Date),n=oe(n,"day"),n=Ve(n,Ve(r)),n=ke(n,ke(r)),n=Ge(n,Ge(r)),Ke(n,Ke(r)))}function ct(n){return Ve(n)===0&&ke(n)===0&&Ge(n)===0&&Ke(n)===0}function mr(n,r,t,e){return t==="day"&&(t="date"),Math.abs(ot[t](n,void 0,e)-ot[t](r,void 0,e))}function Qe(n,r,t){return!t||t==="milliseconds"?Math.abs(+n-+r):Math.round(Math.abs(+oe(n,t)/lt[t]-+oe(r,t)/lt[t]))}var hr=O.oneOfType([O.string,O.func]);function pr(n,r,t,e,a){var o=typeof e=="function"?e(t,a,n):r.call(n,t,e,a);return Re(o==null||typeof o=="string","`localizer format(..)` must return a string, null, or undefined"),o}function gr(n,r,t){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,r+t,0,0)}function et(n,r){return n.getTimezoneOffset()-r.getTimezoneOffset()}function yr(n,r){return Qe(n,r,"minutes")+et(n,r)}function wr(n){var r=oe(n,"day");return Qe(r,n,"minutes")+et(r,n)}function br(n,r){return gt(n,r,"day")}function Dr(n,r,t){var e=Te(n,r,"minutes");return e?Ze(r,t,"minutes"):Ue(r,t,"minutes")}function Be(n,r){return mr(n,r,"day")}function Er(n){var r=n.evtA,t=r.start,e=r.end,a=r.allDay,o=n.evtB,s=o.start,i=o.end,l=o.allDay,u=+oe(t,"day")-+oe(s,"day"),c=Be(t,e),v=Be(s,i);return u||v-c||!!l-!!a||+t-+s||+e-+i}function Sr(n){var r=n.event,t=r.start,e=r.end,a=n.range,o=a.start,s=a.end,i=oe(t,"day"),l=Me(i,s,"day"),u=yt(i,e,"minutes"),c=u?Ue(e,o,"minutes"):Ze(e,o,"minutes");return l&&c}function Rr(n,r){return Te(n,r,"day")}function kr(n,r){return ct(n)&&ct(r)}var Or=j(function n(r){var t=this;X(this,n),Re(typeof r.format=="function","date localizer `format(..)` must be a function"),Re(typeof r.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=r.propType||hr,this.formats=r.formats,this.format=function(){for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return pr.apply(void 0,[t,r.format].concat(a))},this.startOfWeek=r.firstOfWeek,this.merge=r.merge||fr,this.inRange=r.inRange||Bt,this.lt=r.lt||gt,this.lte=r.lte||Me,this.gt=r.gt||Ue,this.gte=r.gte||Ze,this.eq=r.eq||Te,this.neq=r.neq||yt,this.startOf=r.startOf||oe,this.endOf=r.endOf||He,this.add=r.add||Ce,this.range=r.range||vr,this.diff=r.diff||Qe,this.ceil=r.ceil||dr,this.min=r.min||jt,this.max=r.max||Xt,this.minutes=r.minutes||ke,this.daySpan=r.daySpan||Be,this.firstVisibleDay=r.firstVisibleDay||Rt,this.lastVisibleDay=r.lastVisibleDay||kt,this.visibleDays=r.visibleDays||ur,this.getSlotDate=r.getSlotDate||gr,this.getTimezoneOffset=r.getTimezoneOffset||function(e){return e.getTimezoneOffset()},this.getDstOffset=r.getDstOffset||et,this.getTotalMin=r.getTotalMin||yr,this.getMinutesFromMidnight=r.getMinutesFromMidnight||wr,this.continuesPrior=r.continuesPrior||br,this.continuesAfter=r.continuesAfter||Dr,this.sortEvents=r.sortEvents||Er,this.inEventRange=r.inEventRange||Sr,this.isSameDate=r.isSameDate||Rr,this.startAndEndAreDateOnly=r.startAndEndAreDateOnly||kr,this.segmentOffset=r.browserTZOffset?r.browserTZOffset():0});function Mr(n,r,t,e){var a=W(W({},n.formats),t);return W(W({},n),{},{messages:e,startOfWeek:function(){return n.startOfWeek(r)},format:function(s,i){return n.format(s,a[i]||i,r)}})}var Tr=function(n){function r(){var t;X(this,r);for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t=Q(this,r,[].concat(a)),t.navigate=function(s){t.props.onNavigate(s)},t.view=function(s){t.props.onView(s)},t}return J(r,n),j(r,[{key:"render",value:function(){var e=this.props,a=e.localizer.messages,o=e.label;return d.createElement("div",{className:"rbc-toolbar"},d.createElement("span",{className:"rbc-btn-group"},d.createElement("button",{type:"button",onClick:this.navigate.bind(null,re.TODAY)},a.today),d.createElement("button",{type:"button",onClick:this.navigate.bind(null,re.PREVIOUS)},a.previous),d.createElement("button",{type:"button",onClick:this.navigate.bind(null,re.NEXT)},a.next)),d.createElement("span",{className:"rbc-toolbar-label"},o),d.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(a)))}},{key:"viewNamesGroup",value:function(e){var a=this,o=this.props.views,s=this.props.view;if(o.length>1)return o.map(function(i){return d.createElement("button",{type:"button",key:i,className:K({"rbc-active":s===i}),onClick:a.view.bind(null,i)},e[i])})}}])}(d.Component);function H(n,r){n&&n.apply(null,[].concat(r))}var Cr={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(r){return"+".concat(r," more")}};function Nr(n){return W(W({},Cr),n)}function Pr(n){var r=n.ref,t=n.callback;G.useEffect(function(){var e=function(o){r.current&&!r.current.contains(o.target)&&t()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[r,t])}var Ar=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],Ot=function(n){function r(){return X(this,r),Q(this,r,arguments)}return J(r,n),j(r,[{key:"render",value:function(){var e=this.props,a=e.style,o=e.className,s=e.event,i=e.selected,l=e.isAllDay,u=e.onSelect,c=e.onDoubleClick,v=e.onKeyPress,f=e.localizer,m=e.continuesPrior,h=e.continuesAfter,p=e.accessors,g=e.getters,y=e.children,b=e.components,k=b.event,w=b.eventWrapper,S=e.slotStart,M=e.slotEnd,$=ie(e,Ar);delete $.resizable;var T=p.title(s),C=p.tooltip(s),N=p.end(s),x=p.start(s),z=p.allDay(s),A=l||z||f.diff(x,f.ceil(N,"day"),"day")>1,L=g.eventProp(s,x,N,i),V=d.createElement("div",{className:"rbc-event-content",title:C||void 0},k?d.createElement(k,{event:s,continuesPrior:m,continuesAfter:h,title:T,isAllDay:z,localizer:f,slotStart:S,slotEnd:M}):T);return d.createElement(w,Object.assign({},this.props,{type:"date"}),d.createElement("div",Object.assign({},$,{style:W(W({},L.style),a),className:K("rbc-event",o,L.className,{"rbc-selected":i,"rbc-event-allday":A,"rbc-event-continues-prior":m,"rbc-event-continues-after":h}),onClick:function(q){return u&&u(s,q)},onDoubleClick:function(q){return c&&c(s,q)},onKeyDown:function(q){return v&&v(s,q)}}),typeof y=="function"?y(V):V))}}])}(d.Component);function Ne(n,r){return!n||r==null?!1:Jt(n,r)}function Mt(n,r){var t=n.right-n.left,e=t/r;return e}function Tt(n,r,t,e){var a=Mt(n,e);return t?e-1-Math.floor((r-n.left)/a):Math.floor((r-n.left)/a)}function $r(n,r){var t=r.x,e=r.y;return e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right}function xr(n,r,t,e,a){var o=-1,s=-1,i=e-1,l=Mt(r,e),u=Tt(r,t.x,a,e),c=r.top<t.y&&r.bottom>t.y,v=r.top<n.y&&r.bottom>n.y,f=n.y>r.bottom,m=r.top>n.y,h=t.top<r.top&&t.bottom>r.bottom;return h&&(o=0,s=i),c&&(m?(o=0,s=u):f&&(o=u,s=i)),v&&(o=s=a?i-Math.floor((n.x-r.left)/l):Math.floor((n.x-r.left)/l),c?u<o?o=u:s=u:n.y<t.y?s=i:o=0),{startIdx:o,endIdx:s}}function _r(n){var r=n.target,t=n.offset,e=n.container,a=n.box,o=Le(r),s=o.top,i=o.left,l=o.width,u=o.height,c=Le(e),v=c.top,f=c.left,m=c.width,h=c.height,p=Le(a),g=p.width,y=p.height,b=v+h,k=f+m,w=s+y,S=i+g,M=t.x,$=t.y,T=w>b?s-y-$:s+$+u,C=S>k?i+M-g+l:i+M;return{topOffset:T,leftOffset:C}}function zr(n){var r=n.containerRef,t=n.accessors,e=n.getters,a=n.selected,o=n.components,s=n.localizer,i=n.position,l=n.show,u=n.events,c=n.slotStart,v=n.slotEnd,f=n.onSelect,m=n.onDoubleClick,h=n.onKeyPress,p=n.handleDragStart,g=n.popperRef,y=n.target,b=n.offset;Pr({ref:g,callback:l}),G.useLayoutEffect(function(){var S=_r({target:y,offset:b,container:r.current,box:g.current}),M=S.topOffset,$=S.leftOffset;g.current.style.top="".concat(M,"px"),g.current.style.left="".concat($,"px")},[b.x,b.y,y]);var k=i.width,w={minWidth:k+k/2};return d.createElement("div",{style:w,className:"rbc-overlay",ref:g},d.createElement("div",{className:"rbc-overlay-header"},s.format(c,"dayHeaderFormat")),u.map(function(S,M){return d.createElement(Ot,{key:M,type:"popup",localizer:s,event:S,getters:e,onSelect:f,accessors:t,components:o,onDoubleClick:m,onKeyPress:h,continuesPrior:s.lt(t.end(S),c,"day"),continuesAfter:s.gte(t.start(S),v,"day"),slotStart:c,slotEnd:v,selected:Ne(S,a),draggable:!0,onDragStart:function(){return p(S)},onDragEnd:function(){return l()}})}))}var Ct=d.forwardRef(function(n,r){return d.createElement(zr,Object.assign({},n,{popperRef:r}))});Ct.propTypes={accessors:O.object.isRequired,getters:O.object.isRequired,selected:O.object,components:O.object.isRequired,localizer:O.object.isRequired,position:O.object.isRequired,show:O.func.isRequired,events:O.array.isRequired,slotStart:O.instanceOf(Date).isRequired,slotEnd:O.instanceOf(Date),onSelect:O.func,onDoubleClick:O.func,onKeyPress:O.func,handleDragStart:O.func,style:O.object,offset:O.shape({x:O.number,y:O.number})};function Lr(n){var r=n.containerRef,t=n.popupOffset,e=t===void 0?5:t,a=n.overlay,o=n.accessors,s=n.localizer,i=n.components,l=n.getters,u=n.selected,c=n.handleSelectEvent,v=n.handleDoubleClickEvent,f=n.handleKeyPressEvent,m=n.handleDragStart,h=n.onHide,p=n.overlayDisplay,g=G.useRef(null);if(!a.position)return null;var y=e;isNaN(e)||(y={x:e,y:e});var b=a.position,k=a.events,w=a.date,S=a.end;return d.createElement(cr,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:h,target:a.target},function(M){var $=M.props;return d.createElement(Ct,Object.assign({},$,{containerRef:r,ref:g,target:a.target,offset:y,accessors:o,getters:l,selected:u,components:i,localizer:s,position:b,show:p,events:k,slotStart:w,slotEnd:S,onSelect:c,onDoubleClick:v,onKeyPress:f,handleDragStart:m}))})}var tt=d.forwardRef(function(n,r){return d.createElement(Lr,Object.assign({},n,{containerRef:r}))});tt.propTypes={popupOffset:O.oneOfType([O.number,O.shape({x:O.number,y:O.number})]),overlay:O.shape({position:O.object,events:O.array,date:O.instanceOf(Date),end:O.instanceOf(Date)}),accessors:O.object.isRequired,localizer:O.object.isRequired,components:O.object.isRequired,getters:O.object.isRequired,selected:O.object,handleSelectEvent:O.func,handleDoubleClickEvent:O.func,handleKeyPressEvent:O.func,handleDragStart:O.func,onHide:O.func,overlayDisplay:O.func};function Z(n,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return lr(t,n,r,{passive:!1})}function Fr(n,r,t){return!n||Ye(n,document.elementFromPoint(r,t))}function Ir(n,r){var t=r.clientX,e=r.clientY,a=document.elementFromPoint(t,e);return Dt(a,".rbc-event",n)}function Wr(n,r){var t=r.clientX,e=r.clientY,a=document.elementFromPoint(t,e);return Dt(a,".rbc-show-more",n)}function Oe(n,r){return!!Ir(n,r)}function Hr(n,r){return!!Wr(n,r)}function pe(n){var r=n;return n.touches&&n.touches.length&&(r=n.touches[0]),{clientX:r.clientX,clientY:r.clientY,pageX:r.pageX,pageY:r.pageY}}var ut=5,Vr=250,Nt=function(){function n(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.global,a=e===void 0?!1:e,o=t.longPressThreshold,s=o===void 0?250:o,i=t.validContainers,l=i===void 0?[]:i;X(this,n),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=r,this.globalMouse=!r||a,this.longPressThreshold=s,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Z("touchmove",function(){},window),this._removeKeyDownListener=Z("keydown",this._keyListener),this._removeKeyUpListener=Z("keyup",this._keyListener),this._removeDropFromOutsideListener=Z("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Z("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return j(n,[{key:"on",value:function(t,e){var a=this._listeners[t]||(this._listeners[t]=[]);return a.push(e),{remove:function(){var s=a.indexOf(e);s!==-1&&a.splice(s,1)}}}},{key:"emit",value:function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),o=1;o<e;o++)a[o-1]=arguments[o];var s,i=this._listeners[t]||[];return i.forEach(function(l){s===void 0&&(s=l.apply(void 0,a))}),s}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(t){var e=this._selectRect;return!e||!this.selecting?!1:dt(e,fe(t))}},{key:"filter",value:function(t){var e=this._selectRect;return!e||!this.selecting?[]:t.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(t,e){var a=this,o=null,s=null,i=null,l=function(f){o=setTimeout(function(){c(),t(f)},a.longPressThreshold),s=Z("touchmove",function(){return c()}),i=Z("touchend",function(){return c()})},u=Z("touchstart",l),c=function(){o&&clearTimeout(o),s&&s(),i&&i(),o=null,s=null,i=null};return e&&l(e),function(){c(),u()}}},{key:"_addInitialEventListener",value:function(){var t=this,e=Z("mousedown",function(o){t._removeInitialEventListener(),t._handleInitialEvent(o),t._removeInitialEventListener=Z("mousedown",t._handleInitialEvent)}),a=Z("touchstart",function(o){t._removeInitialEventListener(),t._removeInitialEventListener=t._addLongPressListener(t._handleInitialEvent,o)});this._removeInitialEventListener=function(){e(),a()}}},{key:"_dropFromOutsideListener",value:function(t){var e=pe(t),a=e.pageX,o=e.pageY,s=e.clientX,i=e.clientY;this.emit("dropFromOutside",{x:a,y:o,clientX:s,clientY:i}),t.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(t){var e=pe(t),a=e.pageX,o=e.pageY,s=e.clientX,i=e.clientY;this.emit("dragOverFromOutside",{x:a,y:o,clientX:s,clientY:i}),t.preventDefault()}},{key:"_handleInitialEvent",value:function(t){if(this._initialEvent=t,!this.isDetached){var e=pe(t),a=e.clientX,o=e.clientY,s=e.pageX,i=e.pageY,l=this.container(),u,c;if(!(t.which===3||t.button===2||!Fr(l,a,o))){if(!this.globalMouse&&l&&!Ye(l,t.target)){var v=Gr(0),f=v.top,m=v.left,h=v.bottom,p=v.right;if(c=fe(l),u=dt({top:c.top-f,left:c.left-m,bottom:c.bottom+h,right:c.right+p},{top:i,left:s}),!u)return}var g=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(t.type),x:s,y:i,clientX:a,clientY:o});if(g!==!1)switch(t.type){case"mousedown":this._removeEndListener=Z("mouseup",this._handleTerminatingEvent),this._onEscListener=Z("keydown",this._handleTerminatingEvent),this._removeMoveListener=Z("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(t),this._removeEndListener=Z("touchend",this._handleTerminatingEvent),this._removeMoveListener=Z("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(t){var e=t.target,a=this.validContainers;return!a||!a.length||!e?!0:a.some(function(o){return!!e.closest(o)})}},{key:"_handleTerminatingEvent",value:function(t){var e=this.selecting,a=this._selectRect;if(!e&&t.type.includes("key")&&(t=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!t){var o=!this.container||Ye(this.container(),t.target),s=this._isWithinValidContainer(t);return t.key==="Escape"||!s?this.emit("reset"):!e&&o?this._handleClickEvent(t):e?this.emit("select",a):this.emit("reset")}}},{key:"_handleClickEvent",value:function(t){var e=pe(t),a=e.pageX,o=e.pageY,s=e.clientX,i=e.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<Vr?(this._lastClickData=null,this.emit("doubleClick",{x:a,y:o,clientX:s,clientY:i})):(this._lastClickData={timestamp:l},this.emit("click",{x:a,y:o,clientX:s,clientY:i}))}},{key:"_handleMoveEvent",value:function(t){if(!(this._initialEventData===null||this.isDetached)){var e=this._initialEventData,a=e.x,o=e.y,s=pe(t),i=s.pageX,l=s.pageY,u=Math.abs(a-i),c=Math.abs(o-l),v=Math.min(i,a),f=Math.min(l,o),m=this.selecting,h=this.isClick(i,l);h&&!m&&!(u||c)||(!m&&!h&&this.emit("selectStart",this._initialEventData),h||(this.selecting=!0,this._selectRect={top:f,left:v,x:i,y:l,right:v+u,bottom:f+c},this.emit("selecting",this._selectRect)),t.preventDefault())}}},{key:"_keyListener",value:function(t){this.ctrl=t.metaKey||t.ctrlKey}},{key:"isClick",value:function(t,e){var a=this._initialEventData,o=a.x,s=a.y,i=a.isTouch;return!i&&Math.abs(t-o)<=ut&&Math.abs(e-s)<=ut}}])}();function Gr(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Xe(n)!=="object"&&(n={top:n,left:n,right:n,bottom:n}),n}function dt(n,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,e=fe(n),a=e.top,o=e.left,s=e.right,i=s===void 0?o:s,l=e.bottom,u=l===void 0?a:l,c=fe(r),v=c.top,f=c.left,m=c.right,h=m===void 0?f:m,p=c.bottom,g=p===void 0?v:p;return!(u-t<v||a+t>g||i-t<f||o+t>h)}function fe(n){if(!n.getBoundingClientRect)return n;var r=n.getBoundingClientRect(),t=r.left+vt("left"),e=r.top+vt("top");return{top:e,left:t,right:(n.offsetWidth||0)+t,bottom:(n.offsetHeight||0)+e}}function vt(n){if(n==="left")return window.pageXOffset||document.body.scrollLeft||0;if(n==="top")return window.pageYOffset||document.body.scrollTop||0}var Kr=function(n){function r(t,e){var a;return X(this,r),a=Q(this,r,[t,e]),a.state={selecting:!1},a.containerRef=G.createRef(),a}return J(r,n),j(r,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(e){!e.selectable&&this.props.selectable&&this._selectable(),e.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var e=this.props,a=e.range,o=e.getNow,s=e.getters,i=e.date,l=e.components.dateCellWrapper,u=e.localizer,c=this.state,v=c.selecting,f=c.startIdx,m=c.endIdx,h=o();return d.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},a.map(function(p,g){var y=v&&g>=f&&g<=m,b=s.dayProp(p),k=b.className,w=b.style;return d.createElement(l,{key:g,value:p,range:a},d.createElement("div",{style:w,className:K("rbc-day-bg",k,y&&"rbc-selected-cell",u.isSameDate(p,h)&&"rbc-today",i&&u.neq(i,p,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var e=this,a=this.containerRef.current,o=this._selector=new Nt(this.props.container,{longPressThreshold:this.props.longPressThreshold}),s=function(l,u){if(!Oe(a,l)&&!Hr(a,l)){var c=fe(a),v=e.props,f=v.range,m=v.rtl;if($r(c,l)){var h=Tt(c,l.x,m,f.length);e._selectSlot({startIdx:h,endIdx:h,action:u,box:l})}}e._initial={},e.setState({selecting:!1})};o.on("selecting",function(i){var l=e.props,u=l.range,c=l.rtl,v=-1,f=-1;if(e.state.selecting||(H(e.props.onSelectStart,[i]),e._initial={x:i.x,y:i.y}),o.isSelected(a)){var m=fe(a),h=xr(e._initial,m,i,u.length,c);v=h.startIdx,f=h.endIdx}e.setState({selecting:!0,startIdx:v,endIdx:f})}),o.on("beforeSelect",function(i){if(e.props.selectable==="ignoreEvents")return!Oe(e.containerRef.current,i)}),o.on("click",function(i){return s(i,"click")}),o.on("doubleClick",function(i){return s(i,"doubleClick")}),o.on("select",function(i){e._selectSlot(W(W({},e.state),{},{action:"select",bounds:i})),e._initial={},e.setState({selecting:!1}),H(e.props.onSelectEnd,[e.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(e){var a=e.endIdx,o=e.startIdx,s=e.action,i=e.bounds,l=e.box;a!==-1&&o!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:o,end:a,action:s,bounds:i,box:l,resourceId:this.props.resourceId})}}])}(d.Component),se={propTypes:{slotMetrics:O.object.isRequired,selected:O.object,isAllDay:O.bool,accessors:O.object.isRequired,localizer:O.object.isRequired,components:O.object.isRequired,getters:O.object.isRequired,onSelect:O.func,onDoubleClick:O.func,onKeyPress:O.func},defaultProps:{segments:[],selected:{}},renderEvent:function(r,t){var e=r.selected;r.isAllDay;var a=r.accessors,o=r.getters,s=r.onSelect,i=r.onDoubleClick,l=r.onKeyPress,u=r.localizer,c=r.slotMetrics,v=r.components,f=r.resizable,m=c.continuesPrior(t),h=c.continuesAfter(t);return d.createElement(Ot,{event:t,getters:o,localizer:u,accessors:a,components:v,onSelect:s,onDoubleClick:i,onKeyPress:l,continuesPrior:m,continuesAfter:h,slotStart:c.first,slotEnd:c.last,selected:Ne(t,e),resizable:f})},renderSpan:function(r,t,e){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",o=Math.abs(t)/r*100+"%";return d.createElement("div",{key:e,className:"rbc-row-segment",style:{WebkitFlexBasis:o,flexBasis:o,maxWidth:o}},a)}},Pt=function(n){function r(){return X(this,r),Q(this,r,arguments)}return J(r,n),j(r,[{key:"render",value:function(){var e=this,a=this.props,o=a.segments,s=a.slotMetrics.slots,i=a.className,l=1;return d.createElement("div",{className:K(i,"rbc-row")},o.reduce(function(u,c,v){var f=c.event,m=c.left,h=c.right,p=c.span,g="_lvl_"+v,y=m-l,b=se.renderEvent(e.props,f);return y&&u.push(se.renderSpan(s,y,"".concat(g,"_gap"))),u.push(se.renderSpan(s,p,g,b)),l=h+1,u},[]))}}])}(d.Component);Pt.defaultProps=W({},se.defaultProps);function At(n){var r=n.dateRange,t=n.unit,e=t===void 0?"day":t,a=n.localizer;return{first:r[0],last:a.add(r[r.length-1],1,e)}}function qr(n,r,t,e){var a=At({dateRange:r,localizer:e}),o=a.first,s=a.last,i=e.diff(o,s,"day"),l=e.max(e.startOf(t.start(n),"day"),o),u=e.min(e.ceil(t.end(n),"day"),s),c=nr(r,function(f){return e.isSameDate(f,l)}),v=e.diff(l,u,"day");return v=Math.min(v,i),v=Math.max(v-e.segmentOffset,1),{event:n,span:v,left:c+1,right:Math.max(c+v,1)}}function $t(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,t,e,a,o=[],s=[];for(t=0;t<n.length;t++){for(a=n[t],e=0;e<o.length&&Yr(a,o[e]);e++);e>=r?s.push(a):(o[e]||(o[e]=[])).push(a)}for(t=0;t<o.length;t++)o[t].sort(function(i,l){return i.left-l.left});return{levels:o,extra:s}}function ge(n,r,t,e,a){var o={start:e.start(n),end:e.end(n)},s={start:r,end:t};return a.inEventRange({event:o,range:s})}function Yr(n,r){return r.some(function(t){return t.left<=n.right&&t.right>=n.left})}function Br(n,r,t){var e=Ee(n),a=[],o=[];e.forEach(function(l){var u=r.start(l),c=r.end(l);t.daySpan(u,c)>1?a.push(l):o.push(l)});var s=a.sort(function(l,u){return je(l,u,r,t)}),i=o.sort(function(l,u){return je(l,u,r,t)});return[].concat(Ee(s),Ee(i))}function je(n,r,t,e){var a={start:t.start(n),end:t.end(n),allDay:t.allDay(n)},o={start:t.start(r),end:t.end(r),allDay:t.allDay(r)};return e.sortEvents({evtA:a,evtB:o})}var xt=function(r,t){return r.left<=t&&r.right>=t},ft=function(r,t){return r.filter(function(e){return xt(e,t)}).map(function(e){return e.event})},_t=function(n){function r(){return X(this,r),Q(this,r,arguments)}return J(r,n),j(r,[{key:"render",value:function(){for(var e=this.props,a=e.segments,o=e.slotMetrics.slots,s=$t(a).levels[0],i=1,l=1,u=[];i<=o;){var c="_lvl_"+i,v=s.filter(function(b){return xt(b,i)})[0]||{},f=v.event,m=v.left,h=v.right,p=v.span;if(!f){i++;continue}var g=Math.max(0,m-l);if(this.canRenderSlotEvent(m,p)){var y=se.renderEvent(this.props,f);g&&u.push(se.renderSpan(o,g,c+"_gap")),u.push(se.renderSpan(o,p,c,y)),l=i=h+1}else g&&u.push(se.renderSpan(o,g,c+"_gap")),u.push(se.renderSpan(o,1,c,this.renderShowMore(a,i))),l=i=i+1}return d.createElement("div",{className:"rbc-row"},u)}},{key:"canRenderSlotEvent",value:function(e,a){var o=this.props.segments;return Qt(e,e+a).every(function(s){var i=ft(o,s).length;return i===1})}},{key:"renderShowMore",value:function(e,a){var o=this,s=this.props,i=s.localizer,l=s.slotMetrics,u=s.components,c=l.getEventsForSlot(a),v=ft(e,a),f=v.length;if(u!=null&&u.showMore){var m=u.showMore,h=l.getDateForSlot(a-1);return f?d.createElement(m,{localizer:i,slotDate:h,slot:a,count:f,events:c,remainingEvents:v}):!1}return f?d.createElement("button",{type:"button",key:"sm_"+a,className:K("rbc-button-link","rbc-show-more"),onClick:function(g){return o.showMore(a,g)}},i.messages.showMore(f,v,c)):!1}},{key:"showMore",value:function(e,a){a.preventDefault(),a.stopPropagation(),this.props.onShowMore(e,a.target)}}])}(d.Component);_t.defaultProps=W({},se.defaultProps);var jr=function(r){var t=r.children;return d.createElement("div",{className:"rbc-row-content-scroll-container"},t)},Xr=function(r,t){return r.left<=t&&r.right>=t},Ur=function(r,t){return r[0].range===t[0].range&&r[0].events===t[0].events};function zt(){return Et(function(n){for(var r=n.range,t=n.events,e=n.maxRows,a=n.minRows,o=n.accessors,s=n.localizer,i=At({dateRange:r,localizer:s}),l=i.first,u=i.last,c=t.map(function(p){return qr(p,r,o,s)}),v=$t(c,Math.max(e-1,1)),f=v.levels,m=v.extra,h=m.length>0?a-1:a;f.length<h;)f.push([]);return{first:l,last:u,levels:f,extra:m,range:r,slots:r.length,clone:function(g){var y=zt();return y(W(W({},n),g))},getDateForSlot:function(g){return r[g]},getSlotForDate:function(g){return r.find(function(y){return s.isSameDate(y,g)})},getEventsForSlot:function(g){return c.filter(function(y){return Xr(y,g)}).map(function(y){return y.event})},continuesPrior:function(g){return s.continuesPrior(o.start(g),l)},continuesAfter:function(g){var y=o.start(g),b=o.end(g);return s.continuesAfter(y,b,u)}}},Ur)}var ye=function(n){function r(){var t;X(this,r);for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t=Q(this,r,[].concat(a)),t.handleSelectSlot=function(s){var i=t.props,l=i.range,u=i.onSelectSlot;u(l.slice(s.start,s.end+1),s)},t.handleShowMore=function(s,i){var l=t.props,u=l.range,c=l.onShowMore,v=t.slotMetrics(t.props),f=or(t.containerRef.current,".rbc-row-bg")[0],m;f&&(m=f.children[s-1]);var h=v.getEventsForSlot(s);c(h,u[s-1],m,s,i)},t.getContainer=function(){var s=t.props.container;return s?s():t.containerRef.current},t.renderHeadingCell=function(s,i){var l=t.props,u=l.renderHeader,c=l.getNow,v=l.localizer;return u({date:s,key:"header_".concat(i),className:K("rbc-date-cell",v.isSameDate(s,c())&&"rbc-now")})},t.renderDummy=function(){var s=t.props,i=s.className,l=s.range,u=s.renderHeader,c=s.showAllEvents;return d.createElement("div",{className:i,ref:t.containerRef},d.createElement("div",{className:K("rbc-row-content",c&&"rbc-row-content-scrollable")},u&&d.createElement("div",{className:"rbc-row",ref:t.headingRowRef},l.map(t.renderHeadingCell)),d.createElement("div",{className:"rbc-row",ref:t.eventRowRef},d.createElement("div",{className:"rbc-row-segment"},d.createElement("div",{className:"rbc-event"},d.createElement("div",{className:"rbc-event-content"}," "))))))},t.containerRef=G.createRef(),t.headingRowRef=G.createRef(),t.eventRowRef=G.createRef(),t.slotMetrics=zt(),t}return J(r,n),j(r,[{key:"getRowLimit",value:function(){var e,a=Fe(this.eventRowRef.current),o=(e=this.headingRowRef)!==null&&e!==void 0&&e.current?Fe(this.headingRowRef.current):0,s=Fe(this.containerRef.current)-o;return Math.max(Math.floor(s/a),1)}},{key:"render",value:function(){var e=this.props,a=e.date,o=e.rtl,s=e.range,i=e.className,l=e.selected,u=e.selectable,c=e.renderForMeasure,v=e.accessors,f=e.getters,m=e.components,h=e.getNow,p=e.renderHeader,g=e.onSelect,y=e.localizer,b=e.onSelectStart,k=e.onSelectEnd,w=e.onDoubleClick,S=e.onKeyPress,M=e.resourceId,$=e.longPressThreshold,T=e.isAllDay,C=e.resizable,N=e.showAllEvents;if(c)return this.renderDummy();var x=this.slotMetrics(this.props),z=x.levels,A=x.extra,L=N?jr:ce,V=m.weekWrapper,F={selected:l,accessors:v,getters:f,localizer:y,components:m,onSelect:g,onDoubleClick:w,onKeyPress:S,resourceId:M,slotMetrics:x,resizable:C};return d.createElement("div",{className:i,role:"rowgroup",ref:this.containerRef},d.createElement(Kr,{localizer:y,date:a,getNow:h,rtl:o,range:s,selectable:u,container:this.getContainer,getters:f,onSelectStart:b,onSelectEnd:k,onSelectSlot:this.handleSelectSlot,components:m,longPressThreshold:$,resourceId:M}),d.createElement("div",{className:K("rbc-row-content",N&&"rbc-row-content-scrollable"),role:"row"},p&&d.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},s.map(this.renderHeadingCell)),d.createElement(L,null,d.createElement(V,Object.assign({isAllDay:T},F,{rtl:this.props.rtl}),z.map(function(q,U){return d.createElement(Pt,Object.assign({key:U,segments:q},F))}),!!A.length&&d.createElement(_t,Object.assign({segments:A,onShowMore:this.handleShowMore},F))))))}}])}(d.Component);ye.defaultProps={minRows:0,maxRows:1/0};var rt=function(r){var t=r.label;return d.createElement("span",{role:"columnheader","aria-sort":"none"},t)},Zr=function(r){var t=r.label,e=r.drilldownView,a=r.onDrillDown;return e?d.createElement("button",{type:"button",className:"rbc-button-link",onClick:a},t):d.createElement("span",null,t)},Jr=["date","className"],Qr=function(r,t,e,a,o){return r.filter(function(s){return ge(s,t,e,a,o)})},Pe=function(n){function r(){var t;X(this,r);for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t=Q(this,r,[].concat(a)),t.getContainer=function(){return t.containerRef.current},t.renderWeek=function(s,i){var l=t.props,u=l.events,c=l.components,v=l.selectable,f=l.getNow,m=l.selected,h=l.date,p=l.localizer,g=l.longPressThreshold,y=l.accessors,b=l.getters,k=l.showAllEvents,w=t.state,S=w.needLimitMeasure,M=w.rowLimit,$=Qr(Ee(u),s[0],s[s.length-1],y,p),T=Br($,y,p);return d.createElement(ye,{key:i,ref:i===0?t.slotRowRef:void 0,container:t.getContainer,className:"rbc-month-row",getNow:f,date:h,range:s,events:T,maxRows:k?1/0:M,selected:m,selectable:v,components:c,accessors:y,getters:b,localizer:p,renderHeader:t.readerDateHeading,renderForMeasure:S,onShowMore:t.handleShowMore,onSelect:t.handleSelectEvent,onDoubleClick:t.handleDoubleClickEvent,onKeyPress:t.handleKeyPressEvent,onSelectSlot:t.handleSelectSlot,longPressThreshold:g,rtl:t.props.rtl,resizable:t.props.resizable,showAllEvents:k})},t.readerDateHeading=function(s){var i=s.date,l=s.className,u=ie(s,Jr),c=t.props,v=c.date,f=c.getDrilldownView,m=c.localizer,h=m.neq(i,v,"month"),p=m.isSameDate(i,v),g=f(i),y=m.format(i,"dateFormat"),b=t.props.components.dateHeader||Zr;return d.createElement("div",Object.assign({},u,{className:K(l,h&&"rbc-off-range",p&&"rbc-current"),role:"cell"}),d.createElement(b,{label:y,date:i,drilldownView:g,isOffRange:h,onDrillDown:function(w){return t.handleHeadingClick(i,g,w)}}))},t.handleSelectSlot=function(s,i){t._pendingSelection=t._pendingSelection.concat(s),clearTimeout(t._selectTimer),t._selectTimer=setTimeout(function(){return t.selectDates(i)})},t.handleHeadingClick=function(s,i,l){l.preventDefault(),t.clearSelection(),H(t.props.onDrillDown,[s,i])},t.handleSelectEvent=function(){t.clearSelection();for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];H(t.props.onSelectEvent,i)},t.handleDoubleClickEvent=function(){t.clearSelection();for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];H(t.props.onDoubleClickEvent,i)},t.handleKeyPressEvent=function(){t.clearSelection();for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];H(t.props.onKeyPressEvent,i)},t.handleShowMore=function(s,i,l,u,c){var v=t.props,f=v.popup,m=v.onDrillDown,h=v.onShowMore,p=v.getDrilldownView,g=v.doShowMoreDrillDown;if(t.clearSelection(),f){var y=wt(l,t.containerRef.current);t.setState({overlay:{date:i,events:s,position:y,target:c}})}else g&&H(m,[i,p(i)||ee.DAY]);H(h,[s,i,u])},t.overlayDisplay=function(){t.setState({overlay:null})},t.state={rowLimit:5,needLimitMeasure:!0,date:null},t.containerRef=G.createRef(),t.slotRowRef=G.createRef(),t._bgRows=[],t._pendingSelection=[],t}return J(r,n),j(r,[{key:"componentDidMount",value:function(){var e=this,a;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){a||bt(function(){a=!1,e.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var e=this.props,a=e.date,o=e.localizer,s=e.className,i=o.visibleDays(a,o),l=er(i,7);return this._weekCount=l.length,d.createElement("div",{className:K("rbc-month-view",s),role:"table","aria-label":"Month View",ref:this.containerRef},d.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(e){var a=this.props,o=a.localizer,s=a.components,i=e[0],l=e[e.length-1],u=s.header||rt;return o.range(i,l,"day").map(function(c,v){return d.createElement("div",{key:"header_"+v,className:"rbc-header"},d.createElement(u,{date:c,localizer:o,label:o.format(c,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var e,a,o=this,s=(e=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&e!==void 0?e:{},i=this.props,l=i.accessors,u=i.localizer,c=i.components,v=i.getters,f=i.selected,m=i.popupOffset,h=i.handleDragStart,p=function(){return o.setState({overlay:null})};return d.createElement(tt,{overlay:s,accessors:l,localizer:u,components:c,getters:v,selected:f,popupOffset:m,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:h,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(e){var a=this._pendingSelection.slice();this._pendingSelection=[],a.sort(function(i,l){return+i-+l});var o=new Date(a[0]),s=new Date(a[a.length-1]);s.setDate(a[a.length-1].getDate()+1),H(this.props.onSelectSlot,{slots:a,start:o,end:s,action:e.action,bounds:e.bounds,box:e.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(e,a){var o=e.date,s=e.localizer;return{date:o,needLimitMeasure:s.neq(o,a.date,"month")}}}])}(d.Component);Pe.range=function(n,r){var t=r.localizer,e=t.firstVisibleDay(n,t),a=t.lastVisibleDay(n,t);return{start:e,end:a}};Pe.navigate=function(n,r,t){var e=t.localizer;switch(r){case re.PREVIOUS:return e.add(n,-1,"month");case re.NEXT:return e.add(n,1,"month");default:return n}};Pe.title=function(n,r){var t=r.localizer;return t.format(n,"monthHeaderFormat")};var mt=function(r){var t=r.min,e=r.max,a=r.step,o=r.slots,s=r.localizer;return"".concat(+s.startOf(t,"minutes"))+"".concat(+s.startOf(e,"minutes"))+"".concat(a,"-").concat(o)};function nt(n){for(var r=n.min,t=n.max,e=n.step,a=n.timeslots,o=n.localizer,s=mt({step:e,localizer:o}),i=1+o.getTotalMin(r,t),l=o.getMinutesFromMidnight(r),u=Math.ceil((i-1)/(e*a)),c=u*a,v=new Array(u),f=new Array(c),m=0;m<u;m++){v[m]=new Array(a);for(var h=0;h<a;h++){var p=m*a+h,g=p*e;f[p]=v[m][h]=o.getSlotDate(r,l,g)}}var y=f.length*e;f.push(o.getSlotDate(r,l,y));function b(k){var w=o.diff(r,k,"minutes")+o.getDstOffset(r,k);return Math.min(w,i)}return{groups:v,update:function(w){return mt(w)!==s?nt(w):this},dateIsInGroup:function(w,S){var M=v[S+1];return o.inRange(w,v[S][0],M?M[0]:t,"minutes")},nextSlot:function(w){var S=f[Math.min(f.findIndex(function(M){return M===w||o.eq(M,w)})+1,f.length-1)];return o.eq(S,w)&&(S=o.add(w,e,"minutes")),S},closestSlotToPosition:function(w){var S=Math.min(f.length-1,Math.max(0,Math.floor(w*c)));return f[S]},closestSlotFromPoint:function(w,S){var M=Math.abs(S.top-S.bottom);return this.closestSlotToPosition((w.y-S.top)/M)},closestSlotFromDate:function(w){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(o.lt(w,r,"minutes"))return f[0];if(o.gt(w,t,"minutes"))return f[f.length-1];var M=o.diff(r,w,"minutes");return f[(M-M%e)/e+S]},startsBeforeDay:function(w){return o.lt(w,r,"day")},startsAfterDay:function(w){return o.gt(w,t,"day")},startsBefore:function(w){return o.lt(o.merge(r,w),r,"minutes")},startsAfter:function(w){return o.gt(o.merge(t,w),t,"minutes")},getRange:function(w,S,M,$){M||(w=o.min(t,o.max(r,w))),$||(S=o.min(t,o.max(r,S)));var T=b(w),C=b(S),N=C>e*c&&!o.eq(t,S)?(T-e)/(e*c)*100:T/(e*c)*100;return{top:N,height:C/(e*c)*100-N,start:b(w),startDate:w,end:b(S),endDate:S}},getCurrentTimePosition:function(w){var S=b(w),M=S/(e*c)*100;return M}}}var en=function(){function n(r,t){var e=t.accessors,a=t.slotMetrics;X(this,n);var o=a.getRange(e.start(r),e.end(r)),s=o.start,i=o.startDate,l=o.end,u=o.endDate,c=o.top,v=o.height;this.start=s,this.end=l,this.startMs=+i,this.endMs=+u,this.top=c,this.height=v,this.data=r}return j(n,[{key:"_width",get:function(){if(this.rows){var t=this.rows.reduce(function(a,o){return Math.max(a,o.leaves.length+1)},0)+1;return 100/t}if(this.leaves){var e=100-this.container._width;return e/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var t=this._width,e=Math.min(100,this._width*1.7);if(this.rows)return e;if(this.leaves)return this.leaves.length>0?e:t;var a=this.row.leaves,o=a.indexOf(this);return o===a.length-1?t:e}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var t=this.row,e=t.leaves,a=t.xOffset,o=t._width,s=e.indexOf(this)+1;return a+s*o}}])}();function tn(n,r,t){return Math.abs(r.start-n.start)<t||r.start>n.start&&r.start<n.end}function rn(n){for(var r=ar(n,["startMs",function(i){return-i.endMs}]),t=[];r.length>0;){var e=r.shift();t.push(e);for(var a=0;a<r.length;a++){var o=r[a];if(!(e.endMs>o.startMs)){if(a>0){var s=r.splice(a,1)[0];t.push(s)}break}}}return t}function Lt(n){for(var r=n.events,t=n.minimumStartDifference,e=n.slotMetrics,a=n.accessors,o=r.map(function(c){return new en(c,{slotMetrics:e,accessors:a})}),s=rn(o),i=[],l=function(){var v=s[u],f=i.find(function(p){return p.end>v.start||Math.abs(v.start-p.start)<t});if(!f)return v.rows=[],i.push(v),1;v.container=f;for(var m=null,h=f.rows.length-1;!m&&h>=0;h--)tn(f.rows[h],v,t)&&(m=f.rows[h]);m?(m.leaves.push(v),v.row=m):(v.leaves=[],f.rows.push(v))},u=0;u<s.length;u++)l();return s.map(function(c){return{event:c.data,style:{top:c.top,height:c.height,width:c.width,xOffset:Math.max(0,c.xOffset)}}})}function Ft(n,r,t){for(var e=0;e<n.friends.length;++e)if(!(t.indexOf(n.friends[e])>-1)){r=r>n.friends[e].idx?r:n.friends[e].idx,t.push(n.friends[e]);var a=Ft(n.friends[e],r,t);r=r>a?r:a}return r}function nn(n){var r=n.events,t=n.minimumStartDifference,e=n.slotMetrics,a=n.accessors,o=Lt({events:r,minimumStartDifference:t,slotMetrics:e,accessors:a});o.sort(function(V,F){return V=V.style,F=F.style,V.top!==F.top?V.top>F.top?1:-1:V.height!==F.height?V.top+V.height<F.top+F.height?1:-1:0});for(var s=0;s<o.length;++s)o[s].friends=[],delete o[s].style.left,delete o[s].style.left,delete o[s].idx,delete o[s].size;for(var i=0;i<o.length-1;++i)for(var l=o[i],u=l.style.top,c=l.style.top+l.style.height,v=i+1;v<o.length;++v){var f=o[v],m=f.style.top,h=f.style.top+f.style.height;(m>=u&&h<=c||h>u&&h<=c||m>=u&&m<c)&&(l.friends.push(f),f.friends.push(l))}for(var p=0;p<o.length;++p){for(var g=o[p],y=[],b=0;b<100;++b)y.push(1);for(var k=0;k<g.friends.length;++k)g.friends[k].idx!==void 0&&(y[g.friends[k].idx]=0);g.idx=y.indexOf(1)}for(var w=0;w<o.length;++w){var S=0;if(!o[w].size){var M=[],$=Ft(o[w],0,M);S=100/($+1),o[w].size=S;for(var T=0;T<M.length;++T)M[T].size=S}}for(var C=0;C<o.length;++C){var N=o[C];N.style.left=N.idx*N.size;for(var x=0,z=0;z<N.friends.length;++z){var A=N.friends[z].idx;x=x>A?x:A}x<=N.idx&&(N.size=100-N.idx*N.size);var L=N.idx===0?0:3;N.style.width="calc(".concat(N.size,"% - ").concat(L,"px)"),N.style.height="calc(".concat(N.style.height,"% - 2px)"),N.style.xOffset="calc(".concat(N.style.left,"% + ").concat(L,"px)")}return o}var ht={overlap:Lt,"no-overlap":nn};function an(n){return!!(n&&n.constructor&&n.call&&n.apply)}function on(n){n.events,n.minimumStartDifference,n.slotMetrics,n.accessors;var r=n.dayLayoutAlgorithm,t=r;return r in ht&&(t=ht[r]),an(t)?t.apply(this,arguments):[]}var It=function(n){function r(){return X(this,r),Q(this,r,arguments)}return J(r,n),j(r,[{key:"render",value:function(){var e=this.props,a=e.renderSlot,o=e.resource,s=e.group,i=e.getters,l=e.components,u=l===void 0?{}:l,c=u.timeSlotWrapper,v=c===void 0?ce:c,f=i?i.slotGroupProp(s):{};return d.createElement("div",Object.assign({className:"rbc-timeslot-group"},f),s.map(function(m,h){var p=i?i.slotProp(m,o):{};return d.createElement(v,{key:h,value:m,resource:o},d.createElement("div",Object.assign({},p,{className:K("rbc-time-slot",p.className)}),a&&a(m,h)))}))}}])}(G.Component);function De(n){return typeof n=="string"?n:n+"%"}function sn(n){var r=n.style,t=n.className,e=n.event,a=n.accessors,o=n.rtl,s=n.selected,i=n.label,l=n.continuesPrior,u=n.continuesAfter,c=n.getters,v=n.onClick,f=n.onDoubleClick,m=n.isBackgroundEvent,h=n.onKeyPress,p=n.components,g=p.event,y=p.eventWrapper,b=a.title(e),k=a.tooltip(e),w=a.end(e),S=a.start(e),M=c.eventProp(e,S,w,s),$=[d.createElement("div",{key:"1",className:"rbc-event-label"},i),d.createElement("div",{key:"2",className:"rbc-event-content"},g?d.createElement(g,{event:e,title:b}):b)],T=r.height,C=r.top,N=r.width,x=r.xOffset,z=W(W({},M.style),{},me({top:De(C),height:De(T),width:De(N)},o?"right":"left",De(x)));return d.createElement(y,Object.assign({type:"time"},n),d.createElement("div",{role:"button",tabIndex:0,onClick:v,onDoubleClick:f,style:z,onKeyDown:h,title:k?(typeof i=="string"?i+": ":"")+k:void 0,className:K(m?"rbc-background-event":"rbc-event",t,M.className,{"rbc-selected":s,"rbc-event-continues-earlier":l,"rbc-event-continues-later":u})},$))}var ln=function(r){var t=r.children,e=r.className,a=r.style,o=r.innerRef;return d.createElement("div",{className:e,style:a,ref:o},t)},cn=d.forwardRef(function(n,r){return d.createElement(ln,Object.assign({},n,{innerRef:r}))}),un=["dayProp"],dn=["eventContainerWrapper"],Wt=function(n){function r(){var t;X(this,r);for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t=Q(this,r,[].concat(a)),t.state={selecting:!1,timeIndicatorPosition:null},t.intervalTriggered=!1,t.renderEvents=function(s){var i=s.events,l=s.isBackgroundEvent,u=t.props,c=u.rtl,v=u.selected,f=u.accessors,m=u.localizer,h=u.getters,p=u.components,g=u.step,y=u.timeslots,b=u.dayLayoutAlgorithm,k=u.resizable,w=t,S=w.slotMetrics,M=m.messages,$=on({events:i,accessors:f,slotMetrics:S,minimumStartDifference:Math.ceil(g*y/2),dayLayoutAlgorithm:b});return $.map(function(T,C){var N,x=T.event,z=T.style,A=f.end(x),L=f.start(x),V=(N=f.eventId(x))!==null&&N!==void 0?N:"evt_"+C,F="eventTimeRangeFormat",q,U=S.startsBeforeDay(L),te=S.startsAfterDay(A);U?F="eventTimeRangeEndFormat":te&&(F="eventTimeRangeStartFormat"),U&&te?q=M.allDay:q=m.format({start:L,end:A},F);var ae=U||S.startsBefore(L),D=te||S.startsAfter(A);return d.createElement(sn,{style:z,event:x,label:q,key:V,getters:h,rtl:c,components:p,continuesPrior:ae,continuesAfter:D,accessors:f,resource:t.props.resource,selected:Ne(x,v),onClick:function(R){return t._select(W(W(W({},x),t.props.resource&&{sourceResource:t.props.resource}),l&&{isBackgroundEvent:!0}),R)},onDoubleClick:function(R){return t._doubleClick(x,R)},isBackgroundEvent:l,onKeyPress:function(R){return t._keyPress(x,R)},resizable:k})})},t._selectable=function(){var s=t.containerRef.current,i=t.props,l=i.longPressThreshold,u=i.localizer,c=t._selector=new Nt(function(){return s},{longPressThreshold:l}),v=function(p){var g=t.props.onSelecting,y=t.state||{},b=f(p),k=b.startDate,w=b.endDate;g&&(u.eq(y.startDate,k,"minutes")&&u.eq(y.endDate,w,"minutes")||g({start:k,end:w,resourceId:t.props.resource})===!1)||(t.state.start!==b.start||t.state.end!==b.end||t.state.selecting!==b.selecting)&&t.setState(b)},f=function(p){var g=t.slotMetrics.closestSlotFromPoint(p,fe(s));t.state.selecting||(t._initialSlot=g);var y=t._initialSlot;u.lte(y,g)?g=t.slotMetrics.nextSlot(g):u.gt(y,g)&&(y=t.slotMetrics.nextSlot(y));var b=t.slotMetrics.getRange(u.min(y,g),u.max(y,g));return W(W({},b),{},{selecting:!0,top:"".concat(b.top,"%"),height:"".concat(b.height,"%")})},m=function(p,g){if(!Oe(t.containerRef.current,p)){var y=f(p),b=y.startDate,k=y.endDate;t._selectSlot({startDate:b,endDate:k,action:g,box:p})}t.setState({selecting:!1})};c.on("selecting",v),c.on("selectStart",v),c.on("beforeSelect",function(h){if(t.props.selectable==="ignoreEvents")return!Oe(t.containerRef.current,h)}),c.on("click",function(h){return m(h,"click")}),c.on("doubleClick",function(h){return m(h,"doubleClick")}),c.on("select",function(h){t.state.selecting&&(t._selectSlot(W(W({},t.state),{},{action:"select",bounds:h})),t.setState({selecting:!1}))}),c.on("reset",function(){t.state.selecting&&t.setState({selecting:!1})})},t._teardownSelectable=function(){t._selector&&(t._selector.teardown(),t._selector=null)},t._selectSlot=function(s){for(var i=s.startDate,l=s.endDate,u=s.action,c=s.bounds,v=s.box,f=i,m=[];t.props.localizer.lte(f,l);)m.push(f),f=new Date(+f+t.props.step*60*1e3);H(t.props.onSelectSlot,{slots:m,start:i,end:l,resourceId:t.props.resource,action:u,bounds:c,box:v})},t._select=function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];H(t.props.onSelectEvent,i)},t._doubleClick=function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];H(t.props.onDoubleClickEvent,i)},t._keyPress=function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];H(t.props.onKeyPressEvent,i)},t.slotMetrics=nt(t.props),t.containerRef=G.createRef(),t}return J(r,n),j(r,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(e,a){this.props.selectable&&!e.selectable&&this._selectable(),!this.props.selectable&&e.selectable&&this._teardownSelectable();var o=this.props,s=o.getNow,i=o.isNow,l=o.localizer,u=o.date,c=o.min,v=o.max,f=l.neq(e.getNow(),s(),"minutes");if(e.isNow!==i||f){if(this.clearTimeIndicatorInterval(),i){var m=!f&&l.eq(e.date,u,"minutes")&&a.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(m)}}else i&&(l.neq(e.min,c,"minutes")||l.neq(e.max,v,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var e=this,a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!a&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){e.intervalTriggered=!0,e.positionTimeIndicator(),e.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var e=this.props,a=e.min,o=e.max,s=e.getNow,i=s();if(i>=a&&i<=o){var l=this.slotMetrics.getCurrentTimePosition(i);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var e=this.props,a=e.date,o=e.max,s=e.rtl,i=e.isNow,l=e.resource,u=e.accessors,c=e.localizer,v=e.getters,f=v.dayProp,m=ie(v,un),h=e.components,p=h.eventContainerWrapper,g=ie(h,dn);this.slotMetrics=this.slotMetrics.update(this.props);var y=this.slotMetrics,b=this.state,k=b.selecting,w=b.top,S=b.height,M=b.startDate,$=b.endDate,T={start:M,end:$},C=f(o,l),N=C.className,x=C.style,z=g.dayColumnWrapper||cn;return d.createElement(z,{ref:this.containerRef,date:a,style:x,className:K(N,"rbc-day-slot","rbc-time-column",i&&"rbc-now",i&&"rbc-today",k&&"rbc-slot-selecting"),slotMetrics:y,resource:l},y.groups.map(function(A,L){return d.createElement(It,{key:L,group:A,resource:l,getters:m,components:g})}),d.createElement(p,{localizer:c,resource:l,accessors:u,getters:m,components:g,slotMetrics:y},d.createElement("div",{className:K("rbc-events-container",s&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),k&&d.createElement("div",{className:"rbc-slot-selection",style:{top:w,height:S}},d.createElement("span",null,c.format(T,"selectRangeFormat"))),i&&this.intervalTriggered&&d.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(d.Component);Wt.defaultProps={dragThroughEvents:!0,timeslots:2};var Ht=function(r){var t=r.label;return d.createElement(d.Fragment,null,t)},vn=function(n){function r(){var t;X(this,r);for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t=Q(this,r,[].concat(a)),t.handleHeaderClick=function(s,i,l){l.preventDefault(),H(t.props.onDrillDown,[s,i])},t.renderRow=function(s){var i=t.props,l=i.events,u=i.rtl,c=i.selectable,v=i.getNow,f=i.range,m=i.getters,h=i.localizer,p=i.accessors,g=i.components,y=i.resizable,b=p.resourceId(s),k=s?l.filter(function(w){return p.resource(w)===b}):l;return d.createElement(ye,{isAllDay:!0,rtl:u,getNow:v,minRows:2,maxRows:t.props.allDayMaxRows+1,range:f,events:k,resourceId:b,className:"rbc-allday-cell",selectable:c,selected:t.props.selected,components:g,accessors:p,getters:m,localizer:h,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyPress:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:y})},t}return J(r,n),j(r,[{key:"renderHeaderCells",value:function(e){var a=this,o=this.props,s=o.localizer,i=o.getDrilldownView,l=o.getNow,u=o.getters.dayProp,c=o.components.header,v=c===void 0?rt:c,f=l();return e.map(function(m,h){var p=i(m),g=s.format(m,"dayFormat"),y=u(m),b=y.className,k=y.style,w=d.createElement(v,{date:m,label:g,localizer:s});return d.createElement("div",{key:h,style:k,className:K("rbc-header",b,s.isSameDate(m,f)&&"rbc-today")},p?d.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(M){return a.handleHeaderClick(m,p,M)}},w):d.createElement("span",null,w))})}},{key:"render",value:function(){var e=this,a=this.props,o=a.width,s=a.rtl,i=a.resources,l=a.range,u=a.events,c=a.getNow,v=a.accessors,f=a.selectable,m=a.components,h=a.getters,p=a.scrollRef,g=a.localizer,y=a.isOverflowing,b=a.components,k=b.timeGutterHeader,w=b.resourceHeader,S=w===void 0?Ht:w,M=a.resizable,$={};y&&($[s?"marginLeft":"marginRight"]="".concat(Je()-1,"px"));var T=i.groupEvents(u);return d.createElement("div",{style:$,ref:p,className:K("rbc-time-header",y&&"rbc-overflowing")},d.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:o,minWidth:o,maxWidth:o}},k&&d.createElement(k,null)),i.map(function(C,N){var x=ne(C,2),z=x[0],A=x[1];return d.createElement("div",{className:"rbc-time-header-content",key:z||N},A&&d.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(N)},d.createElement("div",{className:"rbc-header"},d.createElement(S,{index:N,label:v.resourceTitle(A),resource:A}))),d.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},e.renderHeaderCells(l)),d.createElement(ye,{isAllDay:!0,rtl:s,getNow:c,minRows:2,maxRows:e.props.allDayMaxRows+1,range:l,events:T.get(z)||[],resourceId:A&&z,className:"rbc-allday-cell",selectable:f,selected:e.props.selected,components:m,accessors:v,getters:h,localizer:g,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyDown:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:M}))}))}}])}(d.Component),fn=function(n){function r(){var t;X(this,r);for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t=Q(this,r,[].concat(a)),t.handleHeaderClick=function(s,i,l){l.preventDefault(),H(t.props.onDrillDown,[s,i])},t}return J(r,n),j(r,[{key:"renderHeaderCells",value:function(e){var a=this,o=this.props,s=o.localizer,i=o.getDrilldownView,l=o.getNow,u=o.getters.dayProp,c=o.components,v=c.header,f=v===void 0?rt:v,m=c.resourceHeader,h=m===void 0?Ht:m,p=o.resources,g=o.accessors,y=o.events,b=o.rtl,k=o.selectable,w=o.components,S=o.getters,M=o.resizable,$=l(),T=p.groupEvents(y);return e.map(function(C,N){var x=i(C),z=s.format(C,"dayFormat"),A=u(C),L=A.className,V=A.style,F=d.createElement(f,{date:C,label:z,localizer:s});return d.createElement("div",{key:N,className:"rbc-time-header-content rbc-resource-grouping"},d.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(e.length<=1?" rbc-time-header-cell-single-day":"")},d.createElement("div",{style:V,className:K("rbc-header",L,s.isSameDate(C,$)&&"rbc-today")},x?d.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(U){return a.handleHeaderClick(C,x,U)}},F):d.createElement("span",null,F))),d.createElement("div",{className:"rbc-row"},p.map(function(q,U){var te=ne(q,2),ae=te[0],D=te[1];return d.createElement("div",{key:"resource_".concat(ae,"_").concat(U),className:K("rbc-header",L,s.isSameDate(C,$)&&"rbc-today")},d.createElement(h,{index:U,label:g.resourceTitle(D),resource:D}))})),d.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},p.map(function(q,U){var te=ne(q,2),ae=te[0],D=te[1],E=(T.get(ae)||[]).filter(function(R){return s.isSameDate(R.start,C)||s.isSameDate(R.end,C)});return d.createElement(ye,{key:"resource_".concat(ae,"_").concat(U),isAllDay:!0,rtl:b,getNow:l,minRows:2,maxRows:a.props.allDayMaxRows+1,range:[C],events:E,resourceId:D&&ae,className:"rbc-allday-cell",selectable:k,selected:a.props.selected,components:w,accessors:g,getters:S,localizer:s,onSelect:a.props.onSelectEvent,onShowMore:a.props.onShowMore,onDoubleClick:a.props.onDoubleClickEvent,onKeyDown:a.props.onKeyPressEvent,onSelectSlot:a.props.onSelectSlot,longPressThreshold:a.props.longPressThreshold,resizable:M})})))})}},{key:"render",value:function(){var e=this.props,a=e.width,o=e.rtl,s=e.range,i=e.scrollRef,l=e.isOverflowing,u=e.components.timeGutterHeader,c={};return l&&(c[o?"marginLeft":"marginRight"]="".concat(Je()-1,"px")),d.createElement("div",{style:c,ref:i,className:K("rbc-time-header",l&&"rbc-overflowing")},d.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},u&&d.createElement(u,null)),this.renderHeaderCells(s))}}])}(d.Component);function mn(n){var r=n.min,t=n.max,e=n.localizer;return e.getTimezoneOffset(r)!==e.getTimezoneOffset(t)?{start:e.add(r,-1,"day"),end:e.add(t,-1,"day")}:{start:r,end:t}}var hn=function(r){var t=r.min,e=r.max,a=r.timeslots,o=r.step,s=r.localizer,i=r.getNow,l=r.resource,u=r.components,c=r.getters,v=r.gutterRef,f=u.timeGutterWrapper,m=G.useMemo(function(){return mn({min:t,max:e,localizer:s})},[t==null?void 0:t.toISOString(),e==null?void 0:e.toISOString(),s]),h=m.start,p=m.end,g=G.useState(nt({min:h,max:p,timeslots:a,step:o,localizer:s})),y=ne(g,2),b=y[0],k=y[1];G.useEffect(function(){b&&k(b.update({min:h,max:p,timeslots:a,step:o,localizer:s}))},[h==null?void 0:h.toISOString(),p==null?void 0:p.toISOString(),a,o]);var w=G.useCallback(function(S,M){if(M)return null;var $=b.dateIsInGroup(i(),M);return d.createElement("span",{className:K("rbc-label",$&&"rbc-now")},s.format(S,"timeGutterFormat"))},[b,s,i]);return d.createElement(f,{slotMetrics:b},d.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:v},b.groups.map(function(S,M){return d.createElement(It,{key:M,group:S,resource:l,components:u,renderSlot:w,getters:c})})))},pn=d.forwardRef(function(n,r){return d.createElement(hn,Object.assign({gutterRef:r},n))}),Ie={};function gn(n,r){return{map:function(e){return n?n.map(function(a,o){return e([r.resourceId(a),a],o)}):[e([Ie,null],0)]},groupEvents:function(e){var a=new Map;return n?(e.forEach(function(o){var s=r.resource(o)||Ie;if(Array.isArray(s))s.forEach(function(l){var u=a.get(l)||[];u.push(o),a.set(l,u)});else{var i=a.get(s)||[];i.push(o),a.set(s,i)}}),a):(a.set(Ie,e),a)}}}var he=function(n){function r(t){var e;return X(this,r),e=Q(this,r,[t]),e.handleScroll=function(a){e.scrollRef.current&&(e.scrollRef.current.scrollLeft=a.target.scrollLeft)},e.handleResize=function(){st(e.rafHandle),e.rafHandle=bt(e.checkOverflow)},e.handleKeyPressEvent=function(){e.clearSelection();for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];H(e.props.onKeyPressEvent,o)},e.handleSelectEvent=function(){e.clearSelection();for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];H(e.props.onSelectEvent,o)},e.handleDoubleClickEvent=function(){e.clearSelection();for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];H(e.props.onDoubleClickEvent,o)},e.handleShowMore=function(a,o,s,i,l){var u=e.props,c=u.popup,v=u.onDrillDown,f=u.onShowMore,m=u.getDrilldownView,h=u.doShowMoreDrillDown;if(e.clearSelection(),c){var p=wt(s,e.containerRef.current);e.setState({overlay:{date:o,events:a,position:W(W({},p),{},{width:"200px"}),target:l}})}else h&&H(v,[o,m(o)||ee.DAY]);H(f,[a,o,i])},e.handleSelectAllDaySlot=function(a,o){var s=e.props.onSelectSlot,i=new Date(a[0]),l=new Date(a[a.length-1]);l.setDate(a[a.length-1].getDate()+1),H(s,{slots:a,start:i,end:l,action:o.action,resourceId:o.resourceId})},e.overlayDisplay=function(){e.setState({overlay:null})},e.checkOverflow=function(){if(!e._updatingOverflow){var a=e.contentRef.current;if(a!=null&&a.scrollHeight){var o=a.scrollHeight>a.clientHeight;e.state.isOverflowing!==o&&(e._updatingOverflow=!0,e.setState({isOverflowing:o},function(){e._updatingOverflow=!1}))}}},e.memoizedResources=Et(function(a,o){return gn(a,o)}),e.state={gutterWidth:void 0,isOverflowing:null},e.scrollRef=d.createRef(),e.contentRef=d.createRef(),e.containerRef=d.createRef(),e._scrollRatio=null,e.gutterRef=G.createRef(),e}return J(r,n),j(r,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),st(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(e,a,o,s,i,l,u,c,v,f){var m=this.props,h=m.min,p=m.max,g=(s.get(a)||[]).filter(function(b){return l.inRange(e,u.start(b),u.end(b),"day")}),y=(i.get(a)||[]).filter(function(b){return l.inRange(e,u.start(b),u.end(b),"day")});return d.createElement(Wt,Object.assign({},this.props,{localizer:l,min:l.merge(e,h),max:l.merge(e,p),resource:o&&a,components:c,isNow:l.isSameDate(e,f),key:"".concat(a,"-").concat(e),date:e,events:g,backgroundEvents:y,dayLayoutAlgorithm:v}))}},{key:"renderResourcesFirst",value:function(e,a,o,s,i,l,u,c,v){var f=this;return a.map(function(m){var h=ne(m,2),p=h[0],g=h[1];return e.map(function(y){return f.renderDayColumn(y,p,g,o,s,i,l,c,v,u)})})}},{key:"renderRangeFirst",value:function(e,a,o,s,i,l,u,c,v){var f=this;return e.map(function(m){return d.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:m},a.map(function(h){var p=ne(h,2),g=p[0],y=p[1];return d.createElement("div",{style:{flex:1},key:l.resourceId(y)},f.renderDayColumn(m,g,y,o,s,i,l,c,v,u))}))})}},{key:"renderEvents",value:function(e,a,o,s){var i=this.props,l=i.accessors,u=i.localizer,c=i.resourceGroupingLayout,v=i.components,f=i.dayLayoutAlgorithm,m=this.memoizedResources(this.props.resources,l),h=m.groupEvents(a),p=m.groupEvents(o);return c?this.renderRangeFirst(e,m,h,p,u,l,s,v,f):this.renderResourcesFirst(e,m,h,p,u,l,s,v,f)}},{key:"render",value:function(){var e,a=this.props,o=a.events,s=a.backgroundEvents,i=a.range,l=a.width,u=a.rtl,c=a.selected,v=a.getNow,f=a.resources,m=a.components,h=a.accessors,p=a.getters,g=a.localizer,y=a.min,b=a.max,k=a.showMultiDayTimes,w=a.longPressThreshold,S=a.resizable,M=a.resourceGroupingLayout;l=l||this.state.gutterWidth;var $=i[0],T=i[i.length-1];this.slots=i.length;var C=[],N=[],x=[];o.forEach(function(A){if(ge(A,$,T,h,g)){var L=h.start(A),V=h.end(A);h.allDay(A)||g.startAndEndAreDateOnly(L,V)||!k&&!g.isSameDate(L,V)?C.push(A):N.push(A)}}),s.forEach(function(A){ge(A,$,T,h,g)&&x.push(A)}),C.sort(function(A,L){return je(A,L,h,g)});var z={range:i,events:C,width:l,rtl:u,getNow:v,localizer:g,selected:c,allDayMaxRows:this.props.showAllEvents?1/0:(e=this.props.allDayMaxRows)!==null&&e!==void 0?e:1/0,resources:this.memoizedResources(f,h),selectable:this.props.selectable,accessors:h,getters:p,components:m,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:w,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:S};return d.createElement("div",{className:K("rbc-time-view",f&&"rbc-time-view-resources"),ref:this.containerRef},f&&f.length>1&&M?d.createElement(fn,z):d.createElement(vn,z),this.props.popup&&this.renderOverlay(),d.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},d.createElement(pn,{date:$,ref:this.gutterRef,localizer:g,min:g.merge($,y),max:g.merge($,b),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:m,className:"rbc-time-gutter",getters:p}),this.renderEvents(i,N,x,v())))}},{key:"renderOverlay",value:function(){var e,a,o=this,s=(e=(a=this.state)===null||a===void 0?void 0:a.overlay)!==null&&e!==void 0?e:{},i=this.props,l=i.accessors,u=i.localizer,c=i.components,v=i.getters,f=i.selected,m=i.popupOffset,h=i.handleDragStart,p=function(){return o.setState({overlay:null})};return d.createElement(tt,{overlay:s,accessors:l,localizer:u,components:c,getters:v,selected:f,popupOffset:m,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:h,show:!!s.position,overlayDisplay:this.overlayDisplay,onHide:p})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var a,o=(a=e.gutterRef)!==null&&a!==void 0&&a.current?qe(e.gutterRef.current):void 0;o&&e.state.gutterWidth!==o&&e.setState({gutterWidth:o})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=e.min,o=e.max,s=e.scrollToTime,i=e.localizer,l=i.diff(i.merge(s,a),s,"milliseconds"),u=i.diff(a,o,"milliseconds");this._scrollRatio=l/u}}])}(G.Component);he.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var yn=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Ae=function(n){function r(){return X(this,r),Q(this,r,arguments)}return J(r,n),j(r,[{key:"render",value:function(){var e=this.props,a=e.date,o=e.localizer,s=e.min,i=s===void 0?o.startOf(new Date,"day"):s,l=e.max,u=l===void 0?o.endOf(new Date,"day"):l,c=e.scrollToTime,v=c===void 0?o.startOf(new Date,"day"):c,f=e.enableAutoScroll,m=f===void 0?!0:f,h=ie(e,yn),p=r.range(a,{localizer:o});return d.createElement(he,Object.assign({},h,{range:p,eventOffset:10,localizer:o,min:i,max:u,scrollToTime:v,enableAutoScroll:m}))}}])}(d.Component);Ae.range=function(n,r){var t=r.localizer;return[t.startOf(n,"day")]};Ae.navigate=function(n,r,t){var e=t.localizer;switch(r){case re.PREVIOUS:return e.add(n,-1,"day");case re.NEXT:return e.add(n,1,"day");default:return n}};Ae.title=function(n,r){var t=r.localizer;return t.format(n,"dayHeaderFormat")};var wn=["date","localizer","min","max","scrollToTime","enableAutoScroll"],de=function(n){function r(){return X(this,r),Q(this,r,arguments)}return J(r,n),j(r,[{key:"render",value:function(){var e=this.props,a=e.date,o=e.localizer,s=e.min,i=s===void 0?o.startOf(new Date,"day"):s,l=e.max,u=l===void 0?o.endOf(new Date,"day"):l,c=e.scrollToTime,v=c===void 0?o.startOf(new Date,"day"):c,f=e.enableAutoScroll,m=f===void 0?!0:f,h=ie(e,wn),p=r.range(a,this.props);return d.createElement(he,Object.assign({},h,{range:p,eventOffset:15,localizer:o,min:i,max:u,scrollToTime:v,enableAutoScroll:m}))}}])}(d.Component);de.defaultProps=he.defaultProps;de.navigate=function(n,r,t){var e=t.localizer;switch(r){case re.PREVIOUS:return e.add(n,-1,"week");case re.NEXT:return e.add(n,1,"week");default:return n}};de.range=function(n,r){var t=r.localizer,e=t.startOfWeek(),a=t.startOf(n,"week",e),o=t.endOf(n,"week",e);return t.range(a,o)};de.title=function(n,r){var t=r.localizer,e=de.range(n,{localizer:t}),a=pt(e),o=a[0],s=a.slice(1);return t.format({start:o,end:s.pop()},"dayRangeHeaderFormat")};var bn=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function at(n,r){return de.range(n,r).filter(function(t){return[6,0].indexOf(t.getDay())===-1})}var we=function(n){function r(){return X(this,r),Q(this,r,arguments)}return J(r,n),j(r,[{key:"render",value:function(){var e=this.props,a=e.date,o=e.localizer,s=e.min,i=s===void 0?o.startOf(new Date,"day"):s,l=e.max,u=l===void 0?o.endOf(new Date,"day"):l,c=e.scrollToTime,v=c===void 0?o.startOf(new Date,"day"):c,f=e.enableAutoScroll,m=f===void 0?!0:f,h=ie(e,bn),p=at(a,this.props);return d.createElement(he,Object.assign({},h,{range:p,eventOffset:15,localizer:o,min:i,max:u,scrollToTime:v,enableAutoScroll:m}))}}])}(d.Component);we.defaultProps=he.defaultProps;we.range=at;we.navigate=de.navigate;we.title=function(n,r){var t=r.localizer,e=at(n,{localizer:t}),a=pt(e),o=a[0],s=a.slice(1);return t.format({start:o,end:s.pop()},"dayRangeHeaderFormat")};var $e=30;function xe(n){var r=n.accessors,t=n.components,e=n.date,a=n.events,o=n.getters,s=n.length,i=s===void 0?$e:s,l=n.localizer,u=n.onDoubleClickEvent,c=n.onSelectEvent,v=n.selected,f=G.useRef(null),m=G.useRef(null),h=G.useRef(null),p=G.useRef(null),g=G.useRef(null);G.useEffect(function(){k()});var y=function(T,C,N){var x=t.event,z=t.date;return C=C.filter(function(A){return ge(A,l.startOf(T,"day"),l.endOf(T,"day"),r,l)}),C.map(function(A,L){var V=r.title(A),F=r.end(A),q=r.start(A),U=o.eventProp(A,q,F,Ne(A,v)),te=L===0&&l.format(T,"agendaDateFormat"),ae=L===0?d.createElement("td",{rowSpan:C.length,className:"rbc-agenda-date-cell"},z?d.createElement(z,{day:T,label:te}):te):!1;return d.createElement("tr",{key:N+"_"+L,className:U.className,style:U.style},ae,d.createElement("td",{className:"rbc-agenda-time-cell"},b(T,A)),d.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(E){return c&&c(A,E)},onDoubleClick:function(E){return u&&u(A,E)}},x?d.createElement(x,{event:A,title:V}):V))},[])},b=function(T,C){var N="",x=t.time,z=l.messages.allDay,A=r.end(C),L=r.start(C);return r.allDay(C)||(l.eq(L,A)?z=l.format(L,"agendaTimeFormat"):l.isSameDate(L,A)?z=l.format({start:L,end:A},"agendaTimeRangeFormat"):l.isSameDate(T,L)?z=l.format(L,"agendaTimeFormat"):l.isSameDate(T,A)&&(z=l.format(A,"agendaTimeFormat"))),l.gt(T,L,"day")&&(N="rbc-continues-prior"),l.lt(T,A,"day")&&(N+=" rbc-continues-after"),d.createElement("span",{className:N.trim()},x?d.createElement(x,{event:C,day:T,label:z}):z)},k=function(){if(g.current){var T=f.current,C=g.current.firstChild;if(C){var N=p.current.scrollHeight>p.current.clientHeight,x=[],z=x;x=[qe(C.children[0]),qe(C.children[1])],(z[0]!==x[0]||z[1]!==x[1])&&(m.current.style.width=x[0]+"px",h.current.style.width=x[1]+"px"),N?(sr(T,"rbc-header-overflowing"),T.style.marginRight=Je()+"px"):ir(T,"rbc-header-overflowing")}}},w=l.messages,S=l.add(e,i,"day"),M=l.range(e,S,"day");return a=a.filter(function($){return ge($,l.startOf(e,"day"),l.endOf(S,"day"),r,l)}),a.sort(function($,T){return+r.start($)-+r.start(T)}),d.createElement("div",{className:"rbc-agenda-view"},a.length!==0?d.createElement(d.Fragment,null,d.createElement("table",{ref:f,className:"rbc-agenda-table"},d.createElement("thead",null,d.createElement("tr",null,d.createElement("th",{className:"rbc-header",ref:m},w.date),d.createElement("th",{className:"rbc-header",ref:h},w.time),d.createElement("th",{className:"rbc-header"},w.event)))),d.createElement("div",{className:"rbc-agenda-content",ref:p},d.createElement("table",{className:"rbc-agenda-table"},d.createElement("tbody",{ref:g},M.map(function($,T){return y($,a,T)}))))):d.createElement("span",{className:"rbc-agenda-empty"},w.noEventsInRange))}xe.range=function(n,r){var t=r.length,e=t===void 0?$e:t,a=r.localizer,o=a.add(n,e,"day");return{start:n,end:o}};xe.navigate=function(n,r,t){var e=t.length,a=e===void 0?$e:e,o=t.localizer;switch(r){case re.PREVIOUS:return o.add(n,-a,"day");case re.NEXT:return o.add(n,a,"day");default:return n}};xe.title=function(n,r){var t=r.length,e=t===void 0?$e:t,a=r.localizer,o=a.add(n,e,"day");return a.format({start:n,end:o},"agendaHeaderFormat")};var Se=me(me(me(me(me({},ee.MONTH,Pe),ee.WEEK,de),ee.WORK_WEEK,we),ee.DAY,Ae),ee.AGENDA,xe),Dn=["action","date","today"];function En(n,r){var t=r.action,e=r.date,a=r.today,o=ie(r,Dn);switch(n=typeof n=="string"?Se[n]:n,t){case re.TODAY:e=a||new Date;break;case re.DATE:break;default:Re(n&&typeof n.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),e=n.navigate(e,t,o)}return e}function Sn(n,r){var t=null;return typeof r=="function"?t=r(n):typeof r=="string"&&Xe(n)==="object"&&n!=null&&r in n&&(t=n[r]),t}var le=function(r){return function(t){return Sn(t,r)}},Rn=["view","date","getNow","onNavigate"],kn=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Vt(n){if(Array.isArray(n))return n;for(var r=[],t=0,e=Object.entries(n);t<e.length;t++){var a=ne(e[t],2),o=a[0],s=a[1];s&&r.push(o)}return r}function On(n,r){var t=r.views,e=Vt(t);return e.indexOf(n)!==-1}var Gt=function(n){function r(){var t;X(this,r);for(var e=arguments.length,a=new Array(e),o=0;o<e;o++)a[o]=arguments[o];return t=Q(this,r,[].concat(a)),t.getViews=function(){var s=t.props.views;return Array.isArray(s)?Ut(s,function(i,l){return i[l]=Se[l]},{}):Xe(s)==="object"?Zt(s,function(i,l){return i===!0?Se[l]:i}):Se},t.getView=function(){var s=t.getViews();return s[t.props.view]},t.getDrilldownView=function(s){var i=t.props,l=i.view,u=i.drilldownView,c=i.getDrilldownView;return c?c(s,l,Object.keys(t.getViews())):u},t.handleRangeChange=function(s,i,l){var u=t.props,c=u.onRangeChange,v=u.localizer;c&&i.range&&c(i.range(s,{localizer:v}),l)},t.handleNavigate=function(s,i){var l=t.props,u=l.view,c=l.date,v=l.getNow,f=l.onNavigate,m=ie(l,Rn),h=t.getView(),p=v();c=En(h,W(W({},m),{},{action:s,date:i||c||p,today:p})),f(c,u,s),t.handleRangeChange(c,h)},t.handleViewChange=function(s){s!==t.props.view&&On(s,t.props)&&t.props.onView(s);var i=t.getViews();t.handleRangeChange(t.props.date||t.props.getNow(),i[s],s)},t.handleSelectEvent=function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];H(t.props.onSelectEvent,i)},t.handleDoubleClickEvent=function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];H(t.props.onDoubleClickEvent,i)},t.handleKeyPressEvent=function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];H(t.props.onKeyPressEvent,i)},t.handleSelectSlot=function(s){H(t.props.onSelectSlot,s)},t.handleDrillDown=function(s,i){var l=t.props.onDrillDown;if(l){l(s,i,t.drilldownView);return}i&&t.handleViewChange(i),t.handleNavigate(re.DATE,s)},t.state={context:r.getContext(t.props)},t}return J(r,n),j(r,[{key:"render",value:function(){var e=this.props,a=e.view,o=e.toolbar,s=e.events,i=e.backgroundEvents,l=e.resourceGroupingLayout,u=e.style,c=e.className,v=e.elementProps,f=e.date,m=e.getNow,h=e.length,p=e.showMultiDayTimes,g=e.onShowMore,y=e.doShowMoreDrillDown;e.components,e.formats,e.messages,e.culture;var b=ie(e,kn);f=f||m();var k=this.getView(),w=this.state.context,S=w.accessors,M=w.components,$=w.getters,T=w.localizer,C=w.viewNames,N=M.toolbar||Tr,x=k.title(f,{localizer:T,length:h});return d.createElement("div",Object.assign({},v,{className:K(c,"rbc-calendar",b.rtl&&"rbc-rtl"),style:u}),o&&d.createElement(N,{date:f,view:a,views:C,label:x,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:T}),d.createElement(k,Object.assign({},b,{events:s,backgroundEvents:i,date:f,getNow:m,length:h,localizer:T,getters:$,components:M,accessors:S,showMultiDayTimes:p,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:g,doShowMoreDrillDown:y,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(e){return{context:r.getContext(e)}}},{key:"getContext",value:function(e){var a=e.startAccessor,o=e.endAccessor,s=e.allDayAccessor,i=e.tooltipAccessor,l=e.titleAccessor,u=e.resourceAccessor,c=e.resourceIdAccessor,v=e.resourceTitleAccessor,f=e.eventIdAccessor,m=e.eventPropGetter,h=e.backgroundEventPropGetter,p=e.slotPropGetter,g=e.slotGroupPropGetter,y=e.dayPropGetter,b=e.view,k=e.views,w=e.localizer,S=e.culture,M=e.messages,$=M===void 0?{}:M,T=e.components,C=T===void 0?{}:T,N=e.formats,x=N===void 0?{}:N,z=Vt(k),A=Nr($);return{viewNames:z,localizer:Mr(w,S,x,A),getters:{eventProp:function(){return m&&m.apply(void 0,arguments)||{}},backgroundEventProp:function(){return h&&h.apply(void 0,arguments)||{}},slotProp:function(){return p&&p.apply(void 0,arguments)||{}},slotGroupProp:function(){return g&&g.apply(void 0,arguments)||{}},dayProp:function(){return y&&y.apply(void 0,arguments)||{}}},components:tr(C[b]||{},rr(C,z),{eventWrapper:ce,backgroundEventWrapper:ce,eventContainerWrapper:ce,dateCellWrapper:ce,weekWrapper:ce,timeSlotWrapper:ce,timeGutterWrapper:ce}),accessors:{start:le(a),end:le(o),allDay:le(s),tooltip:le(i),title:le(l),resource:le(u),resourceId:le(c),resourceTitle:le(v),eventId:le(f)}}}}])}(d.Component);Gt.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:ee.MONTH,views:[ee.MONTH,ee.WEEK,ee.DAY,ee.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:ee.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Gn=Yt(Gt,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Mn=function(r,t,e){var a=r.start,o=r.end;return e.format(a,"MMMM DD",t)+" – "+e.format(o,e.eq(a,o,"month")?"DD":"MMMM DD",t)},Tn=function(r,t,e){var a=r.start,o=r.end;return e.format(a,"L",t)+" – "+e.format(o,"L",t)},We=function(r,t,e){var a=r.start,o=r.end;return e.format(a,"LT",t)+" – "+e.format(o,"LT",t)},Cn=function(r,t,e){var a=r.start;return e.format(a,"LT",t)+" – "},Nn=function(r,t,e){var a=r.end;return" – "+e.format(a,"LT",t)},Pn={dateFormat:"DD",dayFormat:"DD ddd",weekdayFormat:"ddd",selectRangeFormat:We,eventTimeRangeFormat:We,eventTimeRangeStartFormat:Cn,eventTimeRangeEndFormat:Nn,timeGutterFormat:"LT",monthHeaderFormat:"MMMM YYYY",dayHeaderFormat:"dddd MMM DD",dayRangeHeaderFormat:Mn,agendaHeaderFormat:Tn,agendaDateFormat:"ddd MMM DD",agendaTimeFormat:"LT",agendaTimeRangeFormat:We};function ue(n){var r=n&&n.toLowerCase();return r==="FullYear"?r="year":r||(r=void 0),r}function Kn(n){var r=function(E,R){return R?E.locale(R):E};function t(D){return n(D).toDate().getTimezoneOffset()}function e(D,E){var R,P,_=n(D).local(),I=n(E).local();if(!n.tz)return _.toDate().getTimezoneOffset()-I.toDate().getTimezoneOffset();var Y=(R=_==null||(P=_._z)===null||P===void 0?void 0:P.name)!==null&&R!==void 0?R:n.tz.guess(),B=n.tz.zone(Y).utcOffset(+_),ve=n.tz.zone(Y).utcOffset(+I);return B-ve}function a(D){var E=n(D).startOf("day");return e(E,D)}function o(D,E,R){var P=ue(R),_=P?n(D).startOf(P):n(D),I=P?n(E).startOf(P):n(E);return[_,I,P]}function s(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,E=arguments.length>1?arguments[1]:void 0,R=ue(E);return R?n(D).startOf(R).toDate():n(D).toDate()}function i(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,E=arguments.length>1?arguments[1]:void 0,R=ue(E);return R?n(D).endOf(R).toDate():n(D).toDate()}function l(D,E,R){var P=o(D,E,R),_=ne(P,3),I=_[0],Y=_[1],B=_[2];return I.isSame(Y,B)}function u(D,E,R){return!l(D,E,R)}function c(D,E,R){var P=o(D,E,R),_=ne(P,3),I=_[0],Y=_[1],B=_[2];return I.isAfter(Y,B)}function v(D,E,R){var P=o(D,E,R),_=ne(P,3),I=_[0],Y=_[1],B=_[2];return I.isBefore(Y,B)}function f(D,E,R){var P=o(D,E,R),_=ne(P,3),I=_[0],Y=_[1],B=_[2];return I.isSameOrBefore(Y,B)}function m(D,E,R){var P=o(D,E,R),_=ne(P,3),I=_[0],Y=_[1],B=_[2];return I.isSameOrBefore(Y,B)}function h(D,E,R){var P=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"day",_=ue(P),I=n(D),Y=n(E),B=n(R);return I.isBetween(Y,B,_,"[]")}function p(D,E){var R=n(D),P=n(E),_=n.min(R,P);return _.toDate()}function g(D,E){var R=n(D),P=n(E),_=n.max(R,P);return _.toDate()}function y(D,E){if(!D&&!E)return null;var R=n(E).format("HH:mm:ss"),P=n(D).startOf("day").format("MM/DD/YYYY");return n("".concat(P," ").concat(R),"MM/DD/YYYY HH:mm:ss").toDate()}function b(D,E,R){var P=ue(R);return n(D).add(E,P).toDate()}function k(D,E){for(var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",P=ue(R),_=n(D).toDate(),I=[];m(_,E);)I.push(_),_=b(_,1,P);return I}function w(D,E){var R=ue(E),P=s(D,R);return l(P,D)?P:b(P,1,R)}function S(D,E){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",P=ue(R),_=n(D),I=n(E);return I.diff(_,P)}function M(D){var E=n(D);return E.minutes()}function $(D){var E=D?n.localeData(D):n.localeData();return E?E.firstDayOfWeek():0}function T(D){return n(D).startOf("month").startOf("week").toDate()}function C(D){return n(D).endOf("month").endOf("week").toDate()}function N(D){for(var E=T(D),R=C(D),P=[];m(E,R);)P.push(E),E=b(E,1,"d");return P}function x(D,E,R){return n(D).startOf("day").minute(E+R).toDate()}function z(D,E){return S(D,E,"minutes")}function A(D){var E=n(D).startOf("day"),R=n(D);return R.diff(E,"minutes")+a(D)}function L(D,E){var R=n(D),P=n(E);return R.isBefore(P,"day")}function V(D,E,R){var P=n(E),_=n(R);return P.isSameOrAfter(_,"minutes")}function F(D,E){var R=n(D),P=n(E),_=n.duration(P.diff(R));return _.days()}function q(D){var E=D.evtA,R=E.start,P=E.end,_=E.allDay,I=D.evtB,Y=I.start,B=I.end,ve=I.allDay,be=+s(R,"day")-+s(Y,"day"),_e=F(R,P),ze=F(Y,B);return be||ze-_e||!!ve-!!_||+R-+Y||+P-+B}function U(D){var E=D.event,R=E.start,P=E.end,_=D.range,I=_.start,Y=_.end,B=n(R).startOf("day"),ve=n(P),be=n(I),_e=n(Y),ze=B.isSameOrBefore(_e,"day"),Kt=!B.isSame(ve,"minutes"),qt=Kt?ve.isAfter(be,"minutes"):ve.isSameOrAfter(be,"minutes");return ze&&qt}function te(D,E){var R=n(D),P=n(E);return R.isSame(P,"day")}function ae(){var D=new Date,E=/-/.test(D.toString())?"-":"",R=D.getTimezoneOffset(),P=Number("".concat(E).concat(Math.abs(R))),_=n().utcOffset();return _>P?1:0}return new Or({formats:Pn,firstOfWeek:$,firstVisibleDay:T,lastVisibleDay:C,visibleDays:N,format:function(E,R,P){return r(n(E),P).format(R)},lt:v,lte:m,gt:c,gte:f,eq:l,neq:u,merge:y,inRange:h,startOf:s,endOf:i,range:k,add:b,diff:S,ceil:w,min:p,max:g,minutes:M,getSlotDate:x,getTimezoneOffset:t,getDstOffset:e,getTotalMin:z,getMinutesFromMidnight:A,continuesPrior:L,continuesAfter:V,sortEvents:q,inEventRange:U,isSameDate:te,daySpan:F,browserTZOffset:ae})}export{Gn as C,Kn as m};
