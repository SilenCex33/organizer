import{l as _,_ as y,n as F}from"./@babel-BVDyanKE.js";import{r as w,a as R}from"./react-BA-y5DQ0.js";import{p as D}from"./react-lifecycles-compat-BzMyrFSO.js";import{i as K}from"./invariant-BIx8IuoX.js";var L=function(){};function M(r,n){var o={};return Object.keys(r).forEach(function(i){o[g(i)]=L}),o}function x(r,n){return r[n]!==void 0}function g(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function q(r){return!!r&&(typeof r!="function"||r.prototype&&r.prototype.isReactComponent)}function I(r){var n=N(r,"string");return typeof n=="symbol"?n:String(n)}function N(r,n){if(typeof r!="object"||r===null)return r;var o=r[Symbol.toPrimitive];if(o!==void 0){var i=o.call(r,n);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function $(r,n,o){var i=w.useRef(r!==void 0),l=w.useState(n),p=l[0],b=l[1],c=r!==void 0,v=i.current;return i.current=c,!c&&v&&p!==n&&b(n),[c?r:p,w.useCallback(function(a){for(var t=arguments.length,f=new Array(t>1?t-1:0),e=1;e<t;e++)f[e-1]=arguments[e];o&&o.apply(void 0,[a].concat(f)),b(a)},[o])]}function Y(r,n){return Object.keys(n).reduce(function(o,i){var l,p=o,b=p[g(i)],c=p[i],v=_(p,[g(i),i].map(I)),a=n[i],t=$(c,b,r[a]),f=t[0],e=t[1];return y({},v,(l={},l[i]=f,l[a]=e,l))},r)}var z="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function B(r,n,o){o===void 0&&(o=[]);var i=r.displayName||r.name||"Component",l=q(r),p=Object.keys(n),b=p.map(g);l||!o.length||K(!1);var c=function(a){F(t,a);function t(){for(var e,h=arguments.length,d=new Array(h),m=0;m<h;m++)d[m]=arguments[m];e=a.call.apply(a,[this].concat(d))||this,e.handlers=Object.create(null),p.forEach(function(s){var u=n[s],j=function(O){if(e.props[u]){var C;e._notifying=!0;for(var E=arguments.length,T=new Array(E>1?E-1:0),U=1;U<E;U++)T[U-1]=arguments[U];(C=e.props)[u].apply(C,[O].concat(T)),e._notifying=!1}e.unmounted||e.setState(function(A){var S,W=A.values;return{values:y(Object.create(null),W,(S={},S[s]=O,S))}})};e.handlers[u]=j}),o.length&&(e.attachRef=function(s){e.inner=s});var P=Object.create(null);return p.forEach(function(s){P[s]=e.props[g(s)]}),e.state={values:P,prevProps:{}},e}var f=t.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},t.getDerivedStateFromProps=function(h,d){var m=d.values,P=d.prevProps,s={values:y(Object.create(null),m),prevProps:{}};return p.forEach(function(u){s.prevProps[u]=h[u],!x(h,u)&&x(P,u)&&(s.values[u]=h[g(u)])}),s},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var h=this,d=this.props,m=d.innerRef,P=_(d,["innerRef"]);b.forEach(function(u){delete P[u]});var s={};return p.forEach(function(u){var j=h.props[u];s[u]=j!==void 0?j:h.state.values[u]}),R.createElement(r,y({},P,s,this.handlers,{ref:m||this.attachRef}))},t}(R.Component);D(c),c.displayName="Uncontrolled("+i+")",c.propTypes=y({innerRef:function(){}},M(n)),o.forEach(function(a){c.prototype[a]=function(){var f;return(f=this.inner)[a].apply(f,arguments)}});var v=c;return R.forwardRef&&(v=R.forwardRef(function(a,t){return R.createElement(c,y({},a,{innerRef:t,__source:{fileName:z,lineNumber:128},__self:this}))}),v.propTypes=c.propTypes),v.ControlledComponent=r,v.deferControlTo=function(a,t,f){return t===void 0&&(t={}),B(a,y({},n,t),f)},v}export{Y as a,B as u};
