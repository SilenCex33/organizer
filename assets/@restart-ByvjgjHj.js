import{r,j as b}from"./react-BA-y5DQ0.js";import{q}from"./dom-helpers-CbdCnQe0.js";import"./warning-D31qWzNz.js";import"./react-dom-po7OO9u3.js";const E=t=>!t||typeof t=="function"?t:e=>{t.current=e};function B(t,e){const n=E(t),o=E(e);return u=>{n&&n(u),o&&o(u)}}function vt(t,e){return r.useMemo(()=>B(t,e),[t,e])}function W(t){const e=r.useRef(t);return r.useEffect(()=>{e.current=t},[t]),e}function bt(t){const e=W(t);return r.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function H(t){const e=r.useRef(t);return r.useEffect(()=>{e.current=t},[t]),e}function S(t){const e=H(t);return r.useCallback(function(...n){return e.current&&e.current(...n)},[e])}var g={};typeof g<"u"&&g.navigator&&g.navigator.product;const X=["as","disabled"];function Y(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function V(t){return!t||t.trim()==="#"}function A({tagName:t,disabled:e,href:n,target:o,rel:u,role:s,onClick:c,tabIndex:p=0,type:v}){t||(n!=null||o!=null||u!=null?t="a":t="button");const f={tagName:t};if(t==="button")return[{type:v||"button",disabled:e},f];const i=d=>{if((e||t==="a"&&V(n))&&d.preventDefault(),e){d.stopPropagation();return}c==null||c(d)},l=d=>{d.key===" "&&(d.preventDefault(),i(d))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:s??"button",disabled:void 0,tabIndex:e?void 0:p,href:n,target:t==="a"?o:void 0,"aria-disabled":e||void 0,rel:t==="a"?u:void 0,onClick:i,onKeyDown:l},f]}const T=r.forwardRef((t,e)=>{let{as:n,disabled:o}=t,u=Y(t,X);const[s,{tagName:c}]=A(Object.assign({tagName:n,disabled:o},u));return b.jsx(c,Object.assign({},u,s,{ref:e}))});T.displayName="Button";const z=["onKeyDown"];function G(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function J(t){return!t||t.trim()==="#"}const Q=r.forwardRef((t,e)=>{let{onKeyDown:n}=t,o=G(t,z);const[u]=A(Object.assign({tagName:"a"},o)),s=S(c=>{u.onKeyDown(c),n==null||n(c)});return J(o.href)||o.role==="button"?b.jsx("a",Object.assign({ref:e},o,u,{onKeyDown:s})):b.jsx("a",Object.assign({ref:e},o,{onKeyDown:n}))});Q.displayName="Anchor";function Z(){const t=r.useRef(!0),e=r.useRef(()=>t.current);return r.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function tt(){const[,t]=r.useReducer(e=>e+1,0);return t}const w=r.createContext(null),_=(t,e=null)=>t!=null?String(t):e||null,O=r.createContext(null);O.displayName="NavContext";const et="data-rr-ui-",nt="rrUi";function j(t){return`${et}${t}`}function ot(t){return`${nt}${t}`}const $=t=>!t||typeof t=="function"?t:e=>{t.current=e};function rt(t,e){const n=$(t),o=$(e);return u=>{n&&n(u),o&&o(u)}}function ut(t,e){return r.useMemo(()=>rt(t,e),[t,e])}const M=r.createContext(null),st=["as","active","eventKey"];function it(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}function ct({key:t,onClick:e,active:n,id:o,role:u,disabled:s}){const c=r.useContext(w),p=r.useContext(O),v=r.useContext(M);let f=n;const i={role:u};if(p){!u&&p.role==="tablist"&&(i.role="tab");const l=p.getControllerId(t??null),d=p.getControlledId(t??null);i[j("event-key")]=t,i.id=l||o,f=n==null&&t!=null?p.activeKey===t:n,(f||!(v!=null&&v.unmountOnExit)&&!(v!=null&&v.mountOnEnter))&&(i["aria-controls"]=d)}return i.role==="tab"&&(i["aria-selected"]=f,f||(i.tabIndex=-1),s&&(i.tabIndex=-1,i["aria-disabled"]=!0)),i.onClick=S(l=>{s||(e==null||e(l),t!=null&&c&&!l.isPropagationStopped()&&c(t,l))}),[i,{isActive:f}]}const L=r.forwardRef((t,e)=>{let{as:n=T,active:o,eventKey:u}=t,s=it(t,st);const[c,p]=ct(Object.assign({key:_(u,s.href),active:o},s));return c[j("active")]=p.isActive,b.jsx(n,Object.assign({},s,c,{ref:e}))});L.displayName="NavItem";const lt=["as","onSelect","activeKey","role","onKeyDown"];function at(t,e){if(t==null)return{};var n={};for(var o in t)if({}.hasOwnProperty.call(t,o)){if(e.indexOf(o)>=0)continue;n[o]=t[o]}return n}const D=()=>{},N=j("event-key"),k=r.forwardRef((t,e)=>{let{as:n="div",onSelect:o,activeKey:u,role:s,onKeyDown:c}=t,p=at(t,lt);const v=tt(),f=r.useRef(!1),i=r.useContext(w),l=r.useContext(M);let d,I;l&&(s=s||"tablist",u=l.activeKey,d=l.getControlledId,I=l.getControllerId);const m=r.useRef(null),K=a=>{const x=m.current;if(!x)return null;const R=q(x,`[${N}]:not([aria-disabled=true])`),y=x.querySelector("[aria-selected=true]");if(!y||y!==document.activeElement)return null;const h=R.indexOf(y);if(h===-1)return null;let C=h+a;return C>=R.length&&(C=0),C<0&&(C=R.length-1),R[C]},P=(a,x)=>{a!=null&&(o==null||o(a,x),i==null||i(a,x))},F=a=>{if(c==null||c(a),!l)return;let x;switch(a.key){case"ArrowLeft":case"ArrowUp":x=K(-1);break;case"ArrowRight":case"ArrowDown":x=K(1);break;default:return}x&&(a.preventDefault(),P(x.dataset[ot("EventKey")]||null,a),f.current=!0,v())};r.useEffect(()=>{if(m.current&&f.current){const a=m.current.querySelector(`[${N}][aria-selected=true]`);a==null||a.focus()}f.current=!1});const U=ut(e,m);return b.jsx(w.Provider,{value:P,children:b.jsx(O.Provider,{value:{role:s,activeKey:_(u),getControlledId:d||D,getControllerId:I||D},children:b.jsx(n,Object.assign({},p,{onKeyDown:F,ref:U,role:s}))})})});k.displayName="Nav";const Ct=Object.assign(k,{Item:L});function mt(){return r.useState(null)}function Rt(t){const e=Z();return[t[0],r.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}export{Q as A,Ct as B,Rt as a,bt as b,mt as c,vt as d,_ as m,ct as u};
